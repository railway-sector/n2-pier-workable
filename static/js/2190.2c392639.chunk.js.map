{"version":3,"file":"static/js/2190.2c392639.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/FeatureGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewPerformanceInfo.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../core/uid.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";import s from\"../../../geometry/SpatialReference.js\";import o from\"../../../layers/support/Field.js\";class t{constructor(e){this._controller=e,this._handle=new n((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(r,t){return r.buffer&&0!==r.buffer.byteLength?(r.options.sourceSpatialReference&&r.options.sourceSpatialReference instanceof s&&(r.options={...r.options,sourceSpatialReference:r.options.sourceSpatialReference.toJSON()}),this._handle.invoke(r,t).then((r=>{let t=0,n=0;const i=s.fromJSON(r.spatialReference);r.spatialReference=i;const p=async s=>{const c=r.fields;if(c)for(;t<c.length;)if(c[t]=o.fromJSON(c[t]),t++,s.madeProgress())return this._controller.reschedule((e=>p(e)));const l=r.features;for(;n<l.length;){const r=l[n];++n,r.uid=e();const o=r.geometry;if(null!=o&&(o.spatialReference=i,a(o),s.madeProgress()))return this._controller.reschedule((e=>p(e)))}return r};return this._controller.schedule((e=>p(e)))}))):Promise.resolve(null)}}function a(e){switch(e.type){case\"polyline\":e.paths=e.hasZ&&e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2],e[3]])))):e.hasZ||e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.paths.map((e=>e.map((e=>[e[0],e[1]]))));break;case\"polygon\":e.rings=e.hasZ&&e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2],e[3]])))):e.hasZ||e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.rings.map((e=>e.map((e=>[e[0],e[1]]))))}}class n extends r{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{t as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{difference as i}from\"../../../../core/SetUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as n,executeQuery as y}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let p=class extends r{constructor(e){super(e)}get implicitFields(){const e=this.layer.outFields?.includes(\"*\");if(!e)return new Set;const r=new Set(this.layerView.requiredFields),t=new Set(this.layerView.availableFields);return i(t,r)}get queryFeaturesDehydrated(){const{layer:e}=this,r=e.capabilities,t=r&&r.query,i=t&&t.supportsFormatPBF,u=e.parsedUrl;if(i){null==this._decoder&&(this._decoder=new c(this.controller));const r={sourceSpatialReference:e.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f};return(e,t)=>n(u,e,\"pbf\",this._createRequestOptions(t)).then((e=>(s(t),null!=this._decoder?this._decoder.invoke({buffer:e.data,options:r},t.signal):Promise.reject(o()))))}return(r,t)=>y(u,r,e.spatialReference,this._createRequestOptions(t)).then((e=>l(e.data,{maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f})))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=t(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([u({constructOnly:!0})],p.prototype,\"layer\",void 0),e([u({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([u({constructOnly:!0})],p.prototype,\"controller\",void 0),e([u({readOnly:!0})],p.prototype,\"implicitFields\",null),e([u({readOnly:!0})],p.prototype,\"queryFeaturesDehydrated\",null),p=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],p);let d=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([u({constructOnly:!0})],d.prototype,\"layer\",void 0),d=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileOGCServiceQuery3D\")],d);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function h(e,r){const{layer:t}=e;return\"feature\"===t.type&&\"feature-layer\"===t.source.type||\"catalog-footprint\"===t.type?new p({layer:t,layerView:e,controller:r}):\"feature\"===t.type&&\"memory\"===t.source.type||\"csv\"===t.type||\"geojson\"===t.type||\"oriented-imagery\"===t.type||\"wfs\"===t.type?new m({layer:t,source:t.source}):\"ogc-feature\"===t.type?new d({layer:t}):null}e([u({constructOnly:!0})],m.prototype,\"layer\",void 0),e([u({constructOnly:!0})],m.prototype,\"source\",void 0),m=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],m);const f=1024;export{h as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{createFeatureTileQuery3D as t}from\"./featureTileQuery3D.js\";class r{constructor(e){this._memoryCache=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const i=this._layerView.view.resourceController;this.query=t(this._layerView,i.normal),i&&this._memoryCacheEnabled&&(this._memoryCache=i.memoryController.newCache(`fl-${r.uid}`))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"parquet\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){return this._layerView.view.resourceController?.scheduler}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get standardMaxRecordCount(){return this._layerView.layer.capabilities.query.standardMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get isDraped(){return\"on-the-ground\"===this._layerView.layer.elevationInfo?.mode}get effectiveDisplayFilter(){return this._layerView.displayFilterEnabled?this._layerView.effectiveDisplayFilter:null}get capabilities(){return this._capabilities??=i(this._layerView.layer),this._capabilities}logFetchError(e,t){e.error(\"#fetchTile()\",this._layerView.layer,t?.message??t)}}function i(e){const t=e.capabilities.query;return{supportsMultipleResolutions:a(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function a(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}export{r as FeatureTileFetcher3DContext,i as contextCapabilitiesFromLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as t,initial as s,syncAndInitial as o,when as i}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as l}from\"../../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLayerViewPerformanceInfo as u}from\"../FeatureLayerViewPerformanceInfo.js\";import{Graphics3DGraphicsPipeline as p}from\"./Graphics3DGraphicsPipeline.js\";import{FeatureTileFetcher3DContext as h}from\"../support/FeatureTileFetcher3DContext.js\";import{EventedSet as m}from\"../../support/EventedSet.js\";import{UpdatePolicy as d}from\"../../webgl-engine/lib/UpdatePolicy.js\";let f=class extends p{constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this._needsRefresh=!1,this.suspendResumeExtentMode=\"data\"}initialize(){this.addHandles(t((()=>({controller:this.controller,suspended:this.suspended})),(({controller:e,suspended:r})=>{e&&!r&&this._needsRefresh&&(e.refetch(),this._needsRefresh=!1)})))}destroy(){this._fetcherContext=r(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return d.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=y.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?d.ASYNC:d.SYNC}case\"tiles\":return d.ASYNC}}get usedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}get unloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t+r>0?t/(t+r):1;return e+r*(this.processor?.usedMemoryPerFeature??0)*s}get ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=null!=e?e.averageSymbolComplexity:void 0,t=null!=r?`f:${r.verticesPerFeature},v:${r.verticesPerCoordinate}`:\"n/a\";return new u(super.performanceInfo,this.controller?.performanceInfo?.storedFeatures??0,this.controller?.performanceInfo?.totalVertices??0,this.maximumNumberOfFeaturesExceeded,this.controller?.mode??\"n/a\",t)}async doRefresh(e){const{controller:r,processor:t,suspended:s}=this;e&&r&&(s?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),t.refreshFilter()}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}getMissingAttributesForFeature(e){return this.controller.getMissingAttributesForFeature(e)}getHydratedGeometry(e){const r=this.graphics3DProcessor;if(null==r)return null;const t=r.graphics3DGraphicsByObjectID;if(null==t)return null;const s=t.get(e);return null==s?null:l(s.graphic.geometry)}createController(){this._fetcherContext=new h({layerView:this.layerView,returnZ:this.hasZ,returnM:this.hasM});const e=new c({layerView:this.layerView,context:this._fetcherContext,graphics:new m,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),s),this.addHandles(t((()=>this.suspended&&this.layerView.updateSuspended),(r=>{r?e.suspend():e.resume()}),o)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),s),this.addHandles(i((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}get test(){return{controller:this.controller,graphics3DProcessor:this.graphics3DProcessor,heatmapProcessor:this.heatmapProcessor,loadedGraphics:this.loadedGraphics}}};e([a()],f.prototype,\"layerView\",void 0),e([a()],f.prototype,\"controller\",void 0),e([a()],f.prototype,\"_controllerTotal\",void 0),e([a()],f.prototype,\"_processorTotal\",void 0),e([a()],f.prototype,\"_needsRefresh\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a()],f.prototype,\"updatingProgressValue\",null),e([a()],f.prototype,\"updatePolicy\",null),e([a()],f.prototype,\"suspendResumeExtentMode\",void 0),f=e([n(\"esri.views.3d.layers.graphics.FeatureGraphics3DGraphicsPipeline\")],f);const y=new Map([[\"point\",5e3],[\"polygon\",500],[\"polyline\",1e3]]);export{f as FeatureGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as i,syncAndInitial as s}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getObjectId as u}from\"../../../layers/graphics/dehydratedFeatures.js\";import{FeatureLikeLayerView3D as n}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{FeatureGraphics3DGraphicsPipeline as l}from\"./graphics/FeatureGraphics3DGraphicsPipeline.js\";import{updatingProgress as m}from\"../support/updatingProperties.js\";import{UpdatePolicy as c}from\"../webgl-engine/lib/UpdatePolicy.js\";import d from\"../../layers/FeatureLayerView.js\";import h from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";let f=class extends(y(n(d(p(h))))){constructor(e){super(e)}initialize(){this.addHandles(i((()=>this._updatingRequiredPromise),(e=>this._updatingHandles.addPromise(e)),s))}destroy(){this._updatingHandles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.graphicsPipeline.maximumNumberOfFeatures}set maximumNumberOfFeatures(e){this.graphicsPipeline.maximumNumberOfFeatures=e}get maximumNumberOfFeaturesExceeded(){return null!=this.graphicsPipeline&&!this.suspended&&this.graphicsPipeline.maximumNumberOfFeaturesExceeded}get updatingProgressValue(){return this.graphicsPipeline?.updatingProgressValue??0}get updatePolicy(){return this.graphicsPipeline?.updatePolicy??c.ASYNC}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.graphicsPipeline?.setVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}async createGraphicsPipeline(){if(has(\"feature-pipeline-3d-test\")){const{Feature3DPipeline:e}=await import(\"./graphics/pipeline/Feature3DPipeline.js\");return new e({layerView:this})}return new l({layerView:this})}async doRefresh(e){return await this.graphicsPipeline.doRefresh(e)}_popupFeatureHasRequiredFields(e,r){if(!super._popupFeatureHasRequiredFields(e,r))return!1;const t=u(e,this.layer.objectIdField);if(null==t)return!0;const i=this.graphicsPipeline.getMissingAttributesForFeature(t);if(null==i)return!0;for(const s of r)if(i.has(s))return!1;return!0}get usedMemory(){return this.graphicsPipeline?.usedMemory??0}get unloadedMemory(){return this.graphicsPipeline?.unloadedMemory??0}get ignoresMemoryFactor(){return this.graphicsPipeline?.ignoresMemoryFactor??!1}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r(),i=this.graphicsPipeline;if(e?.outStatistics||null==i)return t;const s=this.layer.objectIdField,a=[];for(const o of t.features)if(o.geometry){const e=i.getHydratedGeometry(o.attributes[s]);e&&(o.geometry=e,a.push(o))}else a.push(o);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},i=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of i)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),null==e.outSpatialReference||e.outSpatialReference.equals(this.view.spatialReference)||t(\"outSpatialReference\")}get test(){}};e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"graphicsPipeline\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a(m)],f.prototype,\"updatingProgress\",void 0),e([a({readOnly:!0})],f.prototype,\"updatingProgressValue\",null),e([a({readOnly:!0})],f.prototype,\"updatePolicy\",null),e([a({readOnly:!0})],f.prototype,\"hasZ\",null),e([a({readOnly:!0})],f.prototype,\"hasM\",null),f=e([o(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],f);export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,a){super(e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core),this.storedFeatures=t,this.totalVertices=s,this.partial=r,this.mode=o,this.symbolComplexity=a}}export{t as FeatureLayerViewPerformanceInfo};\n"],"names":["t","constructor","e","this","_controller","_handle","n","r","schedule","destroy","invoke","buffer","byteLength","options","sourceSpatialReference","s","toJSON","then","i","fromJSON","spatialReference","p","async","c","fields","length","o","madeProgress","reschedule","l","features","uid","geometry","a","Promise","resolve","type","paths","hasZ","hasM","map","rings","super","_parseFeatureQuery","implicitFields","layer","outFields","includes","Set","layerView","requiredFields","availableFields","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","u","parsedUrl","_decoder","controller","applyTransform","maxStringAttributeFields","maxStringAttributeLength","f","_createRequestOptions","data","signal","reject","y","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","d","queryFeatures","m","source","queryFeaturesJSON","name","_memoryCache","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","normal","_memoryCacheEnabled","memoryController","newCache","createQuery","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","standardMaxRecordCount","maxRecordCount","isDraped","elevationInfo","mode","effectiveDisplayFilter","displayFilterEnabled","_capabilities","supportsMultipleResolutions","supportsPagination","supportsResultType","supportsCacheHint","supportsQuantization","supportsQuantizationEditMode","supportsMaxRecordCountFactor","logFetchError","error","message","_controllerTotal","_processorTotal","_needsRefresh","suspendResumeExtentMode","initialize","addHandles","suspended","_ref","refetch","_fetcherContext","maximumNumberOfFeatures","_get","_set","maximumNumberOfFeaturesExceeded","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","get","serviceDataCount","SYNC","usedMemory","memoryForUnusedFeatures","unloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","performanceInfo","displayFeatureLimit","averageSymbolComplexity","verticesPerFeature","verticesPerCoordinate","storedFeatures","totalVertices","doRefresh","refreshFilter","setVisibility","setObjectIdVisibility","getMissingAttributesForFeature","getHydratedGeometry","graphics3DProcessor","graphics3DGraphicsByObjectID","graphic","createController","h","context","graphics","extent","clippingExtent","updatingHandles","add","serviceDataExtent","dataExtent","updateSuspended","suspend","resume","beforeSetController","test","heatmapProcessor","loadedGraphics","Map","_updatingRequiredPromise","_updatingHandles","addPromise","removeAll","graphicsPipeline","supportsZ","supportsM","_queryFeaturesMesh","_ensureQuery","createGraphicsPipeline","has","Feature3DPipeline","_popupFeatureHasRequiredFields","_validateQueryFeaturesMesh","outStatistics","attributes","push","returnCentroid","equals","displayedFeatures","totalFeatures","maximumFeatures","nodes","core","partial","symbolComplexity"],"sourceRoot":""}