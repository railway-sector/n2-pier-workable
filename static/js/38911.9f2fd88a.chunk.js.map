{"version":3,"file":"static/js/38911.9f2fd88a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromRotationTranslationScale as i,invert as e,exactEquals as a}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{setAxisAngle as n}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as p,fromArray as m,fromValues as u,clone as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromAxisAndAngle as x,angle as g,angleRad as f,axis as j,up as b}from\"./axisAngleDegrees.js\";var y;let A=class extends o{static{y=this}constructor(t){super(t),this.translation=p(),this.rotationAxis=m(b),this.rotationAngle=0,this.scale=u(1,1,1)}get rotation(){return x(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=h(j(t)),this.rotationAngle=g(t)}get localMatrix(){const t=l();return n(d,j(this.rotation),f(this.rotation)),i(t,d,this.translation,this.scale),t}get localMatrixInverse(){return e(l(),this.localMatrix)}equals(t){return this===t||null!=t&&a(this.localMatrix,t.localMatrix)}clone(){const t={translation:h(this.translation),rotationAxis:h(this.rotationAxis),rotationAngle:this.rotationAngle,scale:h(this.scale)};return new y(t)}};t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"translation\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAxis\",void 0),t([r({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAngle\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"scale\",void 0),t([r()],A.prototype,\"rotation\",null),t([r()],A.prototype,\"localMatrix\",null),t([r()],A.prototype,\"localMatrixInverse\",null),A=y=t([s(\"esri.geometry.support.MeshTransform\")],A);const d=c();export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as o,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projectionUtils.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&\"mesh\"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new u,g=\"local\"===m.type,b=e.spatialReference,y=b.isGeographic,R=d(b,p),h=o(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:a(p)/a(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map((t=>g(e,t)))),a=await Promise.all((t.updateAttachments??[]).map((t=>g(e,t)))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await s(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&c(t))return t.map((e=>e.globalId));if(p(t))return t.map((e=>e.objectId));const a=r?e.globalIdField:e.objectIdField;return a?t.map((e=>e.getAttribute(a))):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:\"Feature edit failed\"};return{objectId:e.objectId,globalId:e.globalId,error:r?new t(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(t,r){return new e({attributes:t.attributes,geometry:i({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map((e=>h(e,t)))||[],updates:e?.updates?.map((e=>({original:h(e[0],t),current:h(e[1],t)})))||[],deletes:e?.deletes?.map((e=>h(e,t)))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then((t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)}));const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter((e=>!e.error)).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter((e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8));if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach((e=>T(e,t)))}u.addFeatures.forEach((t=>O(t,e,p,c))),u.updateFeatures.forEach((t=>k(t,e,p,c))),u.deleteFeatures.forEach((t=>U(t,e,p,c))),u.addAttachments.forEach((t=>L(t,e))),u.updateAttachments.forEach((t=>L(t,e))),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map((e=>e.geometry)),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach(((e,a)=>t[a].geometry=e)),s.slice(i,i+n).forEach(((e,t)=>a[t].geometry=e)),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["y","A","o","this","constructor","t","super","translation","p","rotationAxis","m","b","rotationAngle","scale","u","rotation","x","h","j","g","localMatrix","l","n","d","f","i","localMatrixInverse","e","equals","a","clone","r","type","Number","nonNullable","json","write","prototype","s","c","async","geometry","attributes","transformFieldRoles","origin","spatialReference","vertexSpace","transform","isGeographic","R","I","originX","originY","originZ","z","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","Promise","all","addAttachments","map","updateAttachments","deleteAttachments","length","adds","updates","deletes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","assetMaps","addResults","success","getLogger","error","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","original","current","details","raw","extendedCode","w","applyEdits","F","every","v","$","arguments","undefined","gdbVersion","url","layerId","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","filter","forEach","T","O","supportsGeometryUpdate","k","U","L","push","B","S","E","exceededTransferLimit","historicMoment","Date","globalIdToObjectId","editedFeatureResults","editedFeatures","resolve","reject","MAX_SAFE_INTEGER","hasZ","capabilities","supportsZ","hasM","supportsM","wkid","supportsUploadWithItemId","isBase64","concat","slice","q","uploadAssets"],"sourceRoot":""}