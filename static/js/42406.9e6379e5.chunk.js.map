{"version":3,"file":"static/js/42406.9e6379e5.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/ImageryLayerView.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryView2D.js","../node_modules/@arcgis/core/views/2d/engine/imagery/RasterVFContainer.js","../node_modules/@arcgis/core/views/2d/layers/imagery/ImageryVFStrategy.js","../node_modules/@arcgis/core/views/2d/layers/imagery/VectorFieldView2D.js","../node_modules/@arcgis/core/views/2d/layers/ImageryLayerView2D.js","../node_modules/@arcgis/core/views/2d/layers/graphics/HighlightGraphicContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import{throwIfAborted as r}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"../../geometry/Point.js\";import{combineTimeExtent as a}from\"../../layers/support/timeSupport.js\";import{load as p,getSourceScale as n}from\"../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import u from\"../../rest/support/Query.js\";import{getFetchPopupTemplate as c}from\"./support/popupUtils.js\";const m=m=>{let l=class extends m{constructor(){super(...arguments),this.view=null}get timeExtent(){return a(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}async fetchPopupFeaturesAtLocation(e,o){const{layer:s}=this;if(!e)throw new t(\"imagerylayerview:fetchPopupFeatures\",\"Nothing to fetch without area\",{layer:s});const{popupEnabled:a}=s,p=c(s,o);if(!a||null==p)return[];const n=await p.getRequiredFields();r(o);const m=new u;m.timeExtent=this.timeExtent,m.geometry=e,m.outFields=n,m.outSpatialReference=e.spatialReference;const{resolution:l,spatialReference:y}=this.view,h=\"2d\"===this.view.type?new i(l,l,y):new i(.5*l,.5*l,y),{returnTopmostRaster:f,showNoDataRecords:w}=p.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1},d={returnDomainValues:!0,returnTopmostRaster:f,pixelSize:h,showNoDataRecords:w,signal:o?.signal};return s.queryVisibleRasters(m,d).then((e=>e))}async getSourceScale(){return await p(),await this.layer.load(),n(this.layer.serviceRasterInfo,this.view.spatialReference)}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return e([o()],l.prototype,\"layer\",void 0),e([o()],l.prototype,\"suspended\",void 0),e([o({readOnly:!0})],l.prototype,\"timeExtent\",null),e([o()],l.prototype,\"view\",void 0),l=e([s(\"esri.views.layers.ImageryLayerView\")],l),l};export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import i from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{isAbortError as a}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as o}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{mosaicPixelData as p}from\"../../../../layers/support/rasterFunctions/pixelUtils.js\";import{BitmapContainer as n}from\"../../engine/BitmapContainer.js\";import{Container as l}from\"../../engine/Container.js\";import c from\"../../engine/ImageryBitmapSource.js\";import h from\"../support/ExportStrategy.js\";let m=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new l,this.updateRequested=!1,this.type=\"imagery\",this._bitmapView=new n}destroy(){this.attached&&(this.detach(),this.attached=!1),this.updateRequested=!1}get updating(){return!this.attached||this.isUpdating()}update(t){this.strategy.update(t).catch((t=>{a(t)||r.getLogger(this).error(t)}))}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}attach(){this.container.addChild(this._bitmapView);const t=this.layer.version>=10,e=this.layer.version>=10.1?this.layer.imageMaxHeight:2048,i=this.layer.version>=10.1?this.layer.imageMaxWidth:2048;this.strategy=new h({container:this._bitmapView,imageNormalizationSupported:t,imageMaxHeight:e,imageMaxWidth:i,fetchSource:this._fetchImage.bind(this),requestUpdate:()=>this.requestUpdate()})}detach(){this.strategy.destroy(),this._bitmapView.removeAllChildren(),this.container.removeAllChildren(),this.updateRequested=!1}redraw(){this.strategy.updateExports((async t=>{const{source:e}=t;if(!e||e instanceof ImageBitmap)return;const i=await this.layer.applyRenderer({extent:e.extent,pixelBlock:e.originalPixelBlock??e.pixelBlock});e.filter=t=>this.layer.pixelFilter?this.layer.applyFilter(t):{...i,extent:e.extent}})).catch((t=>{a(t)||r.getLogger(this).error(t)}))}requestUpdate(){this.updateRequested||(this.updateRequested=!0,this.view.requestUpdate())}isUpdating(){return this.strategy.updating||this.updateRequested}getPixelData(){if(this.updating)return null;const t=this.strategy.bitmaps;if(1===t.length&&t[0].source)return{extent:t[0].source.extent,pixelBlock:t[0].source.originalPixelBlock};if(t.length>1){const e=this.view.extent,i=t.map((t=>t.source)).filter((t=>t.extent&&t.extent.intersects(e))).map((t=>({extent:t.extent,pixelBlock:t.originalPixelBlock}))),r=p(i,e);return null!=r?{extent:r.extent,pixelBlock:r.pixelBlock}:null}return null}async _fetchImage(t,e,i,r){(r=r||{}).timeExtent=this.timeExtent,r.requestAsImageElement=!0,r.returnImageBitmap=!0;const a=await this.layer.internalFetchImage(t,e,i,r);if(a.imageBitmap)return a.imageBitmap;const s=await this.layer.applyRenderer(a.pixelData,{signal:r.signal}),o=new c(s.pixelBlock,s.extent?.clone(),a.pixelData.pixelBlock);return o.filter=t=>this.layer.applyFilter(t),o}};t([s()],m.prototype,\"attached\",void 0),t([s()],m.prototype,\"container\",void 0),t([s()],m.prototype,\"layer\",void 0),t([s()],m.prototype,\"strategy\",void 0),t([s()],m.prototype,\"timeExtent\",void 0),t([s()],m.prototype,\"view\",void 0),t([s()],m.prototype,\"updateRequested\",void 0),t([s()],m.prototype,\"updating\",null),t([s()],m.prototype,\"type\",void 0),m=t([o(\"esri.views.2d.layers.imagery.ImageryView2D\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"./BrushVectorField.js\";import{WGLDrawPhase as r}from\"../webgl/enums.js\";import s from\"../webgl/WGLContainer.js\";class t extends s{constructor(){super(...arguments),this.symbolTypes=[\"triangle\"]}prepareRenderPasses(s){const t=s.registerRenderPass({name:\"imagery (vf)\",brushes:[e],target:()=>this.children,drawPhase:r.MAP});return[...super.prepareRenderPasses(s),t]}doRender(e){this.visible&&e.drawPhase===r.MAP&&this.symbolTypes.forEach((r=>{e.renderPass=r,super.doRender(e)}))}}export{t as RasterVFContainer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{debounce as r,isAbortError as o}from\"../../../../core/promiseUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../../geometry/Extent.js\";import{RasterVFDisplayObject as l}from\"../../engine/imagery/RasterVFDisplayObject.js\";let c=class extends t{constructor(e){super(e),this._loading=null,this.update=r(((e,t)=>this._update(e,t).catch((e=>{o(e)||i.getLogger(this).error(e)}))))}get updating(){return!!this._loading}redraw(e){if(!this.container.children.length)return;const t=this.container.children[0];t.symbolizerParameters=e,t.invalidateVAO(),this.container.symbolTypes=\"wind_speed\"===e.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===e.style?[\"scalar\"]:[\"triangle\"],this.container.requestRender()}async _update(e,t,i){if(!e.stationary)return;const{extent:r,spatialReference:o}=e.state,s=new n({xmin:r.xmin,ymin:r.ymin,xmax:r.xmax,ymax:r.ymax,spatialReference:o}),[a,l]=e.state.size;this._loading=this.fetchPixels(s,a,l,i);const c=await this._loading;this._addToDisplay(c,t,e.state),this._loading=null}_addToDisplay(e,t,i){if(null==e.pixelBlock)return this.container.children.forEach((e=>e.destroy())),void this.container.removeAllChildren();const{extent:r,pixelBlock:o}=e,s=new l(o);s.offset=[0,0],s.symbolizerParameters=t,s.rawPixelData=e,s.invalidateVAO(),s.x=r.xmin,s.y=r.ymax,s.pixelRatio=i.pixelRatio,s.rotation=i.rotation,s.resolution=i.resolution,s.width=o.width*t.symbolTileSize,s.height=o.height*t.symbolTileSize,this.container.children.forEach((e=>e.destroy())),this.container.removeAllChildren(),this.container.symbolTypes=\"wind_speed\"===t.style?[\"scalar\",\"triangle\"]:\"simple_scalar\"===t.style?[\"scalar\"]:[\"triangle\"],this.container.addChild(s)}};e([s()],c.prototype,\"fetchPixels\",void 0),e([s()],c.prototype,\"container\",void 0),e([s()],c.prototype,\"_loading\",void 0),e([s()],c.prototype,\"updating\",null),c=e([a(\"esri.views.2d.layers.imagery.ImageryVFStrategy\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../Graphic.js\";import r from\"../../../../request.js\";import i from\"../../../../core/Accessor.js\";import s from\"../../../../core/Logger.js\";import{isAbortError as o}from\"../../../../core/promiseUtils.js\";import{watch as a,syncAndInitial as n}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import m from\"../../../../geometry/Extent.js\";import{srToRESTValue as p}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{projectExtent as h}from\"../../../../layers/support/rasterFunctions/rasterProjectionHelper.js\";import{snapImageToSymbolTile as y}from\"../../../../layers/support/rasterFunctions/vectorFieldUtils.js\";import{RasterVFContainer as u}from\"../../engine/imagery/RasterVFContainer.js\";import d from\"./ImageryVFStrategy.js\";let x=class extends i{constructor(){super(...arguments),this.attached=!1,this.container=new u,this.type=\"imageryVF\",this._dataParameters={exportParametersVersion:0,bbox:\"\",symbolTileSize:0,time:\"\"},this._fetchpixels=async(t,e,r,i)=>{const s=await this._projectFullExtentPromise,{layer:o}=this,{symbolTileSize:a}=o.renderer,{extent:n,width:l,height:c}=y(t,e,r,a,s);if(null!=s&&!s.intersects(t))return{extent:n,pixelBlock:null};const m={bbox:`${n.xmin}, ${n.ymin}, ${n.xmax}, ${n.ymax}`,exportParametersVersion:o.exportImageServiceParameters.version,symbolTileSize:a,time:JSON.stringify(this.timeExtent||\"\")};if(this._canReuseVectorFieldData(m)){const t=this.getPixelData();if(null!=t){if(`${t.extent.xmin}, ${t.extent.ymin}, ${t.extent.xmax}, ${t.extent.ymax}`===m.bbox)return t}}const{pixelBlock:p}=await o.fetchPixels(n,l,c,{timeExtent:this.timeExtent,interpolation:o.interpolation,signal:i});if(this._dataParameters=m,null==p)return{extent:n,pixelBlock:null};const{dataType:h}=o.rasterInfo;return{extent:n,pixelBlock:\"vector-uv\"===h&&p?await o.convertVectorFieldData(p,\"vector-uv\",{signal:i}):p}}}get updating(){return!this.attached||this._strategy.updating}attach(){this._projectFullExtentPromise=this._getProjectedFullExtent(this.view.spatialReference),this._strategy=new d({container:this.container,fetchPixels:this._fetchpixels}),this.addHandles(a((()=>this.layer.renderer),(t=>this._updateSymbolizerParams(t)),n),\"attach\")}detach(){this._strategy.destroy(),this.container.children.forEach((t=>t.destroy())),this.container.removeAllChildren(),this.removeHandles(\"attach\"),this._strategy=this.container=this._projectFullExtentPromise=null}getPixelData(){const t=this.container.children[0]?.rawPixelData;if(this.updating||!t)return null;const{extent:e,pixelBlock:r}=t;return{extent:e,pixelBlock:r}}hitTest(t){return new e({attributes:{},geometry:t.clone(),layer:this.layer})}update(t){this._strategy.update(t,this._symbolizerParams).catch((t=>{o(t)||s.getLogger(this).error(t)}))}redraw(){const{renderer:t}=this.layer;t&&(this._updateSymbolizerParams(t),this._strategy.redraw(this._symbolizerParams))}_canReuseVectorFieldData(t){const e=this._dataParameters.exportParametersVersion===t.exportParametersVersion,r=this._dataParameters.time===t.time,i=this._dataParameters.symbolTileSize===t.symbolTileSize,s=this._dataParameters.bbox===t.bbox;return e&&r&&i&&s}async _getProjectedFullExtent(t){try{return h(this.layer.fullExtent,t)}catch(e){try{const e=(await r(this.layer.url,{query:{option:\"footprints\",outSR:p(t),f:\"json\"}})).data.featureCollection.layers[0].layerDefinition.extent;return e?m.fromJSON(e):null}catch{return null}}}_updateSymbolizerParams(t){\"vector-field\"===t?.type&&(this._symbolizerParams=this.layer.symbolizer.generateWebGLParameters({pixelBlock:null}))}};t([l()],x.prototype,\"attached\",void 0),t([l()],x.prototype,\"container\",void 0),t([l()],x.prototype,\"layer\",void 0),t([l()],x.prototype,\"timeExtent\",void 0),t([l()],x.prototype,\"type\",void 0),t([l()],x.prototype,\"view\",void 0),t([l()],x.prototype,\"updating\",null),x=t([c(\"esri.views.2d.layers.imagery.VectorFieldView2D\")],x);export{x as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import i from\"../../../Graphic.js\";import{isSome as t}from\"../../../core/arrayUtils.js\";import s from\"../../../core/Collection.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import has from\"../../../core/has.js\";import{watch as h,sync as a}from\"../../../core/reactiveUtils.js\";import{property as o}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{GraphicsCollection as n}from\"../../../support/GraphicsCollection.js\";import c from\"../engine/flow/FlowView2D.js\";import{LayerView2DMixin as g}from\"./LayerView2D.js\";import p from\"./graphics/GraphicsView2D.js\";import d from\"./graphics/HighlightGraphicContainer.js\";import w from\"./imagery/ImageryView2D.js\";import m from\"./imagery/VectorFieldView2D.js\";import u from\"../../layers/ImageryLayerView.js\";import v from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";import{defaultHighlightName as f}from\"../../support/HighlightDefaults.js\";let b=class extends(u(y(g(v)))){constructor(){super(...arguments),this._exportImageVersion=-1,this._highlightGraphics=new n,this._highlightView=void 0,this.layer=null,this.subview=null}get pixelData(){const{subview:e}=this;return this.updating||!e?null:\"getPixelData\"in e?e.getPixelData():null}update(e){this.subview?.update(e)}attach(){this.layer.increaseRasterJobHandlerUsage(),this._setSubView(),this.view&&(this._highlightView=new p({view:this.view,graphics:this._highlightGraphics,requestUpdateCallback:()=>this.requestUpdate(),container:new d(this.view.featuresTilingScheme)}),this.container.addChild(this._highlightView.container)),this.addAttachHandles([h((()=>this.layer.exportImageServiceParameters.version),(e=>{e&&this._exportImageVersion!==e&&(this._exportImageVersion=e,this.requestUpdate())}),a),h((()=>this.timeExtent),(e=>{const{subview:i}=this;i&&(i.timeExtent=e,\"redraw\"in i?this.requestUpdate():i.redrawOrRefetch())}),a),this.layer.on(\"redraw\",(()=>{const{subview:e}=this;e&&(\"redraw\"in e?e.redraw():e.redrawOrRefetch())})),h((()=>this.layer.renderer),(()=>this._setSubView()))])}detach(){this.layer.decreaseRasterJobHandlerUsage(),this.container.removeAllChildren(),this._detachSubview(this.subview),this.subview?.destroy(),this.subview=null,this._highlightView?.destroy(),this._exportImageVersion=-1}viewChange(){}moveEnd(){this.requestUpdate()}highlight(e,h){if(!((Array.isArray(e)?e[0]:s.isCollection(e)?e.at(0):e)instanceof i))return r();let a=[];Array.isArray(e)||s.isCollection(e)?a=e.map((e=>e.clone())):e instanceof i&&(a=[e.clone()]);const o=a?.filter(t);if(!o?.length)return r();const l=h?.name??f;return this._addHighlightGraphics(a,l),r((()=>!this.destroyed&&this._removeHighlightGraphics(a,l)))}_addHighlightGraphics(e,i){this._highlightGraphics.addMany(e),this._addHighlights(e.map((e=>e.uid)),i)}_removeHighlightGraphics(e,i){this._highlightGraphics.removeMany(e),this._removeHighlights(e.map((e=>e.uid)),i)}async doRefresh(){this.requestUpdate()}isUpdating(){const e=!this.subview||this.subview.updating||!!this._highlightView?.updating;return has(\"esri-2d-log-updating\")&&console.log(`Updating ImageryLayerView2D (${this.layer.id}): ${e}\\n-> subview ${!this.subview||this.subview.updating}\\n-> higlightView ${this._highlightView?.updating}\\n`),e}_processHighlight(){const e=this._getHighlights();this._highlightView?.setHighlight(e)}_setSubView(){if(!this.view)return;const e=this.layer.renderer?.type;let i=\"imagery\";if(\"vector-field\"===e?i=\"imageryVF\":\"flow\"===e&&(i=\"flow\"),this.subview){const{type:e}=this.subview;if(e===i)return this._attachSubview(this.subview),void(\"flow\"===e?this.subview.redrawOrRefetch():\"imagery\"===e&&\"lerc\"===this.layer.format?this.subview.redraw():this.requestUpdate());this._detachSubview(this.subview),this.subview?.destroy()}this.subview=\"imagery\"===i?new w({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):\"imageryVF\"===i?new m({layer:this.layer,view:this.view,timeExtent:this.timeExtent}):new c({layer:this.layer,layerView:this}),this._attachSubview(this.subview),this.requestUpdate()}_attachSubview(e){e&&!e.attached&&(e.attach(),e.attached=!0,this.container.addChildAt(e.container,0))}_detachSubview(e){e?.attached&&(this.container.removeChild(e.container),e.detach(),e.attached=!1)}};e([o()],b.prototype,\"pixelData\",null),e([o()],b.prototype,\"subview\",void 0),b=e([l(\"esri.views.2d.layers.ImageryLayerView2D\")],b);const _=b;export{_ as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import\"../../../../core/Error.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{WGLDrawPhase as s,FeatureSelection as t}from\"../../engine/webgl/enums.js\";import{AGraphicContainer as i}from\"./AGraphicContainer.js\";import{renderHighlight as o}from\"../support/util.js\";let a=class extends i{get hasHighlight(){return this.children.some((r=>r.hasData))}renderChildren(r){this.attributeView.update(),r.drawPhase===s.HIGHLIGHT&&this.children.some((r=>r.hasData))&&(super.renderChildren(r),r.context.setColorMask(!0,!0,!0,!0),o(r,!1,(r=>{this._renderChildren(r,t.Highlight)})))}};a=r([e(\"esri.views.2d.layers.graphics.HighlightGraphicContainer\")],a);export{a as default};\n"],"names":["m","l","constructor","super","arguments","this","view","timeExtent","a","layer","_get","fetchPopupFeaturesAtLocation","e","o","s","t","popupEnabled","p","c","n","getRequiredFields","r","u","geometry","outFields","outSpatialReference","spatialReference","resolution","y","h","type","i","returnTopmostRaster","f","showNoDataRecords","w","layerOptions","d","returnDomainValues","pixelSize","signal","queryVisibleRasters","then","getSourceScale","load","serviceRasterInfo","canResume","isEmpty","prototype","readOnly","attached","container","updateRequested","_bitmapView","destroy","detach","updating","isUpdating","update","strategy","catch","getLogger","error","hitTest","attributes","clone","attach","addChild","version","imageMaxHeight","imageMaxWidth","imageNormalizationSupported","fetchSource","_fetchImage","bind","requestUpdate","removeAllChildren","redraw","updateExports","async","source","ImageBitmap","applyRenderer","extent","pixelBlock","originalPixelBlock","filter","pixelFilter","applyFilter","getPixelData","bitmaps","length","map","intersects","requestAsImageElement","returnImageBitmap","internalFetchImage","imageBitmap","pixelData","symbolTypes","prepareRenderPasses","registerRenderPass","name","brushes","target","children","drawPhase","MAP","doRender","visible","forEach","renderPass","_loading","_update","symbolizerParameters","invalidateVAO","style","requestRender","stationary","state","xmin","ymin","xmax","ymax","size","fetchPixels","_addToDisplay","offset","rawPixelData","x","pixelRatio","rotation","width","symbolTileSize","height","_dataParameters","exportParametersVersion","bbox","time","_fetchpixels","_projectFullExtentPromise","renderer","exportImageServiceParameters","JSON","stringify","_canReuseVectorFieldData","interpolation","dataType","rasterInfo","convertVectorFieldData","_strategy","_getProjectedFullExtent","addHandles","_updateSymbolizerParams","removeHandles","_symbolizerParams","fullExtent","url","query","option","outSR","data","featureCollection","layers","layerDefinition","fromJSON","symbolizer","generateWebGLParameters","b","g","v","_exportImageVersion","_highlightGraphics","_highlightView","subview","increaseRasterJobHandlerUsage","_setSubView","graphics","requestUpdateCallback","featuresTilingScheme","addAttachHandles","redrawOrRefetch","on","decreaseRasterJobHandlerUsage","_detachSubview","viewChange","moveEnd","highlight","Array","isArray","isCollection","at","_addHighlightGraphics","destroyed","_removeHighlightGraphics","addMany","_addHighlights","uid","removeMany","_removeHighlights","doRefresh","has","console","log","id","_processHighlight","_getHighlights","setHighlight","_attachSubview","format","layerView","addChildAt","removeChild","_","hasHighlight","some","hasData","renderChildren","attributeView","HIGHLIGHT","context","setColorMask","_renderChildren","Highlight"],"sourceRoot":""}