{"version":3,"file":"static/js/69975.ac420591.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfo.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoType.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilterAuthoringInfoCheckbox.js","../node_modules/@arcgis/core/layers/support/BuildingFilterMode.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeSolid.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeWireFrame.js","../node_modules/@arcgis/core/layers/support/BuildingFilterModeXRay.js","../node_modules/@arcgis/core/layers/support/BuildingFilterBlock.js","../node_modules/@arcgis/core/layers/support/BuildingFilter.js","../node_modules/@arcgis/core/layers/support/BuildingSummaryStatistics.js","../node_modules/@arcgis/core/layers/BuildingSceneLayer.js","../node_modules/@arcgis/core/layers/support/schemaValidatorLoader.js","../node_modules/@arcgis/core/layers/mixins/SceneService.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";var a;const l={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:p}}},read:!1}};function p(r,o,t){if(r&&Array.isArray(r))return new e(r.map((r=>{const e=y(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null})))}let c=a=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,(r=>a.forEachSublayer(this.sublayers,(e=>{\"building-group\"!==e.type&&r(e)}))))}};function y(r){return\"group\"===r.layerType?c:n}r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],c.prototype,\"listMode\",void 0),r([t(l)],c.prototype,\"sublayers\",void 0),c=a=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],c),function(r){function e(r,o){r.forEach((r=>{o(r),\"building-group\"===r.type&&e(r.sublayers,o)}))}r.sublayersProperty=l,r.readSublayers=p,r.forEachSublayer=e}(c||(c={}));export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let e=class extends o{constructor(){super(...arguments),this.type=null}};r([s({type:String,readOnly:!0,json:{write:{isRequired:!0}}})],e.prototype,\"type\",void 0),e=r([t(\"esri.layers.support.BuildingFilterAuthoringInfo\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";var i;let p=i=class extends e{constructor(){super(...arguments),this.filterType=null,this.filterValues=null}clone(){return new i({filterType:this.filterType,filterValues:t(this.filterValues)})}};r([o({type:String,json:{write:{isRequired:!0}}})],p.prototype,\"filterType\",void 0),r([o({type:[String],json:{write:{isRequired:!0}}})],p.prototype,\"filterValues\",void 0),p=i=r([s(\"esri.layers.support.BuildingFilterAuthoringInfoType\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Collection.js\";import e from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterAuthoringInfoType.js\";var c;const l=o.ofType(p);let m=c=class extends e{clone(){return new c({filterTypes:s(this.filterTypes)})}};r([t({type:l,json:{write:{isRequired:!0}}})],m.prototype,\"filterTypes\",void 0),m=c=r([i(\"esri.layers.support.BuildingFilterAuthoringInfoBlock\")],m);const n=m;export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import{clone as t}from\"../../core/lang.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./BuildingFilterAuthoringInfo.js\";import c from\"./BuildingFilterAuthoringInfoBlock.js\";var p;const l=r.ofType(c);let n=p=class extends i{constructor(){super(...arguments),this.type=\"checkbox\"}clone(){return new p({filterBlocks:t(this.filterBlocks)})}};o([e({type:[\"checkbox\"]})],n.prototype,\"type\",void 0),o([e({type:l,json:{write:{isRequired:!0}}})],n.prototype,\"filterBlocks\",void 0),n=p=o([s(\"esri.layers.support.BuildingFilterAuthoringInfoCheckbox\")],n);const m=n;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";let t=class extends o{};r([s({readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],t.prototype,\"type\",void 0),t=r([e(\"esri.layers.support.BuildingFilterMode\")],t);const p=t;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import e from\"./BuildingFilterMode.js\";var t;let i=t=class extends e{constructor(){super(...arguments),this.type=\"solid\"}clone(){return new t}};r([o({type:[\"solid\"],readOnly:!0,json:{write:{isRequired:!0}}})],i.prototype,\"type\",void 0),i=t=r([s(\"esri.layers.support.BuildingFilterModeSolid\")],i);const p=i;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{clone as e}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{enumeration as s}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";import i from\"./BuildingFilterMode.js\";import{symbol3dEdgesProperty as p}from\"../../symbols/edges/utils.js\";var c;let m=c=class extends i{constructor(){super(...arguments),this.type=\"wire-frame\",this.edges=null}clone(){return new c({edges:e(this.edges)})}};r([s({wireFrame:\"wire-frame\"})],m.prototype,\"type\",void 0),r([o(p)],m.prototype,\"edges\",void 0),m=c=r([t(\"esri.layers.support.BuildingFilterModeWireFrame\")],m);const a=m;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";var t;let p=t=class extends s{constructor(){super(...arguments),this.type=\"x-ray\"}clone(){return new t}};r([o({type:[\"x-ray\"],readOnly:!0,json:{write:{isRequired:!0}}})],p.prototype,\"type\",void 0),p=t=r([e(\"esri.layers.support.BuildingFilterModeXRay\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import s from\"./BuildingFilterMode.js\";import l from\"./BuildingFilterModeSolid.js\";import p from\"./BuildingFilterModeWireFrame.js\";import n from\"./BuildingFilterModeXRay.js\";var d;const a={nonNullable:!0,types:{key:\"type\",base:s,typeMap:{solid:l,\"wire-frame\":p,\"x-ray\":n}},json:{read:e=>{switch(e?.type){case\"solid\":return l.fromJSON(e);case\"wireFrame\":return p.fromJSON(e);case\"x-ray\":return n.fromJSON(e);default:return}},write:{enabled:!0,isRequired:!0}}};let m=d=class extends r{constructor(){super(...arguments),this.filterExpression=null,this.filterMode=new l,this.title=\"\"}clone(){return new d({filterExpression:this.filterExpression,filterMode:t(this.filterMode),title:this.title})}};e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"filterExpression\",void 0),e([o(a)],m.prototype,\"filterMode\",void 0),e([o({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"title\",void 0),m=d=e([i(\"esri.layers.support.BuildingFilterBlock\")],m);const c=m;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Collection.js\";import t from\"../../core/JSONSupport.js\";import{clone as e}from\"../../core/lang.js\";import{generateUUID as i}from\"../../core/uuid.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"./BuildingFilterAuthoringInfo.js\";import l from\"./BuildingFilterAuthoringInfoCheckbox.js\";import c from\"./BuildingFilterBlock.js\";var d;const u=r.ofType(c);let m=d=class extends t{constructor(){super(...arguments),this.description=null,this.filterBlocks=null,this.id=i(),this.name=null}clone(){return new d({description:this.description,filterBlocks:e(this.filterBlocks),id:this.id,name:this.name,filterAuthoringInfo:e(this.filterAuthoringInfo)})}};o([s({type:String,json:{write:!0}})],m.prototype,\"description\",void 0),o([s({type:u,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"filterBlocks\",void 0),o([s({types:{key:\"type\",base:p,typeMap:{checkbox:l}},json:{read:o=>\"checkbox\"===o?.type?l.fromJSON(o):null,write:!0}})],m.prototype,\"filterAuthoringInfo\",void 0),o([s({type:String,constructOnly:!0,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"id\",void 0),o([s({type:String,json:{write:{enabled:!0,isRequired:!0}}})],m.prototype,\"name\",void 0),m=d=o([n(\"esri.layers.support.BuildingFilter\")],m);export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../request.js\";import r from\"../../core/JSONSupport.js\";import s from\"../../core/Loadable.js\";import o from\"../../core/Logger.js\";import i from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";let p=class extends r{constructor(){super(...arguments),this.fieldName=null,this.modelName=null,this.label=null,this.min=null,this.max=null,this.mostFrequentValues=null,this.subLayerIds=null}};t([l({type:String})],p.prototype,\"fieldName\",void 0),t([l({type:String})],p.prototype,\"modelName\",void 0),t([l({type:String})],p.prototype,\"label\",void 0),t([l({type:Number})],p.prototype,\"min\",void 0),t([l({type:Number})],p.prototype,\"max\",void 0),t([l({json:{read:t=>Array.isArray(t)&&(t.every((t=>\"string\"==typeof t))||t.every((t=>\"number\"==typeof t)))?t.slice():null}})],p.prototype,\"mostFrequentValues\",void 0),t([l({type:[Number]})],p.prototype,\"subLayerIds\",void 0),p=t([a(\"esri.layers.support.BuildingSummaryStatistics.BuildingFieldStatistics\")],p);let n=class extends(s.LoadableMixin(i.EsriPromiseMixin(r))){constructor(t){super(t),this.url=null,this.customParameters=null}get fields(){return this.loaded||\"loading\"===this.loadStatus?this._get(\"fields\"):(o.getLogger(this).error(\"building summary statistics are not loaded\"),null)}load(t){const e=null!=t?t.signal:null;return this.addResolvingPromise(this._fetchService(e)),Promise.resolve(this)}async _fetchService(t){const r=(await e(this.url,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:t})).data;this.read(r,{origin:\"service\"})}};t([l({constructOnly:!0,type:String})],n.prototype,\"url\",void 0),t([l({constructOnly:!0})],n.prototype,\"customParameters\",void 0),t([l({constructOnly:!0})],n.prototype,\"apiKey\",void 0),t([l({readOnly:!0,type:[p],json:{read:{source:\"summary\"}}})],n.prototype,\"fields\",null),n=t([a(\"esri.layers.support.BuildingSummaryStatistics\")],n);export{n as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import t from\"../core/CollectionFlattener.js\";import i from\"../core/Error.js\";import{abortHandle as s}from\"../core/handleUtils.js\";import{clone as o}from\"../core/lang.js\";import{loadAll as a}from\"../core/loadAll.js\";import l from\"../core/Logger.js\";import{MultiOriginJSONMixin as n}from\"../core/MultiOriginJSONSupport.js\";import{throwIfAbortError as p,ignoreAbortErrors as u}from\"../core/promiseUtils.js\";import{whenOnce as y}from\"../core/reactiveUtils.js\";import{join as c}from\"../core/urlUtils.js\";import{property as d}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import{reader as m}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as h}from\"../core/accessorSupport/decorators/subclass.js\";import b from\"../geometry/SpatialReference.js\";import f from\"./Layer.js\";import g from\"./buildingSublayers/BuildingComponentSublayer.js\";import S from\"./buildingSublayers/BuildingGroupSublayer.js\";import{APIKeyMixin as v}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as j}from\"./mixins/ArcGISService.js\";import{CustomParametersMixin as w}from\"./mixins/CustomParametersMixin.js\";import{OperationalLayer as _}from\"./mixins/OperationalLayer.js\";import{PortalLayer as I}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as L}from\"./mixins/ScaleRangeLayer.js\";import{SceneService as O,SaveOperationType as T}from\"./mixins/SceneService.js\";import{findAssociatedFeatureService as E}from\"./support/associatedFeatureServiceUtils.js\";import P from\"./support/BuildingFilter.js\";import A from\"./support/BuildingSummaryStatistics.js\";import{sceneLayerFullExtent as x,legendEnabled as F,readOnlyService as B,elevationInfo as K}from\"./support/commonProperties.js\";import{logInvalidElevationInfoWarning as C,elevationModeRequiredMessage as U,featureExpressionUnsupportedMessage as $}from\"../support/elevationInfoUtils.js\";const R=r.ofType(P),M=o(S.sublayersProperty),k=M.json?.origins;k&&(k[\"web-scene\"]={type:[g],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}},k[\"portal-item\"]={type:[g],write:{enabled:!0,overridePolicy:()=>({enabled:!1})}});let H=class extends(O(j(_(I(L(n(w(v(f))))))))){constructor(e){super(e),this.operationalLayerType=\"BuildingSceneLayer\",this.allSublayers=new t({getCollections:()=>[this.sublayers],getChildrenFunction:e=>\"building-group\"===e.type?e.sublayers:null}),this.sublayers=null,this._allSublayerOverrides=null,this.filters=new R,this.activeFilterId=null,this.summaryStatistics=null,this.outFields=null,this.legendEnabled=!0,this.type=\"building-scene\"}normalizeCtorArgs(e){return\"string\"==typeof e?{url:e}:e??{}}destroy(){this.allSublayers.destroy()}readSublayers(e,r,t){const i=S.readSublayers(e,r,t);return S.forEachSublayer(i,(e=>e.layer=this)),this._allSublayerOverrides&&(N(i,this._allSublayerOverrides),this._allSublayerOverrides=null),i}write(e,r){return e=super.write(e,r),!r||\"web-scene\"!==r.origin&&\"portal-item\"!==r.origin||(this.sublayers?W(this.sublayers,e,r):this._allSublayerOverrides&&z(this._allSublayerOverrides,e,r)),e}read(e,r){if(super.read(e,r),(\"web-scene\"===r?.origin||\"portal-item\"===r?.origin)&&Array.isArray(e?.sublayers)){const t=V(e.sublayers,r);this.sublayers?G(this.sublayers,t):(this._allSublayerOverrides??=new Map,this._allSublayerOverrides.set(r.origin,t))}}readSummaryStatistics(e,r){if(\"string\"==typeof r.statisticsHRef&&this.parsedUrl){const e=c(this.parsedUrl.path,r.statisticsHRef);return new A({url:e,apiKey:this.apiKey,customParameters:this.customParameters})}return null}set elevationInfo(e){null!=e&&\"absolute-height\"!==e.mode||this._set(\"elevationInfo\",e),this._validateElevationInfo(e)}load(e){const r=null!=e?e.signal:null,t=this.loadFromPortal({supportedTypes:[\"Scene Service\"]},e).catch(p).then((()=>this._fetchService(r))).then((()=>this._fetchAssociatedFeatureService(r)));return this.addResolvingPromise(t),Promise.resolve(this)}loadAll(){return a(this,(e=>{S.forEachSublayer(this.sublayers,(r=>{\"building-group\"!==r.type&&e(r)})),this.summaryStatistics&&e(this.summaryStatistics)}))}async saveAs(e,r){return this._debouncedSaveOperations(T.SAVE_AS,{...r,getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"},e)}async save(){const e={getTypeKeywords:()=>this._getTypeKeywords(),portalItemLayerType:\"building-scene\"};return this._debouncedSaveOperations(T.SAVE,e)}validateLayer(e){if(!e.layerType||\"Building\"!==e.layerType)throw new i(\"buildingscenelayer:layer-type-not-supported\",\"BuildingSceneLayer does not support this layer type\",{layerType:e.layerType})}_getTypeKeywords(){return[\"Building\"]}async _fetchAssociatedFeatureService(e){try{const{portalItem:r}=await E(`${this.url}/layers/${this.layerId}`,{sceneLayerItem:this.portalItem,customParameters:this.customParameters,apiKey:this.apiKey,signal:e});this.associatedFeatureServiceItem=r}catch(r){u(this._logWarningOnPopupEnabled())}}async _logWarningOnPopupEnabled(){const e=new AbortController;this.addHandles(s(e)),await y((()=>this.allSublayers.filter((e=>\"building-component\"===e.type)).some((e=>e.popupEnabled&&null!=e.popupTemplate))),e.signal);const r=this.allSublayers.filter((e=>\"building-component\"===e.type)).filter((e=>e.popupEnabled&&null!=e.popupTemplate)),t=[],i=[];for(const s of r){const e=s.title??`untitled ${s.id}`;s.attributeStorageInfo?t.push(e):i.push(e)}const o=\"\\n  \",a=t.length>0?`\\nThe following sublayers will fall back to binary attributes for Popups:${o}${t.join(o)}`:\"\",n=i.length>0?`\\nThe following sublayers have no binary attributes and will not work with Popups:${o}${i.join(o)}`:\"\";l.getLogger(this).warn(`Associated FeatureLayer could not be loaded for this BuildingSceneLayer: ${this.title}.`,a,n)}_validateElevationInfo(e){const r=\"Building scene layers\";C(l.getLogger(this),U(r,\"absolute-height\",e)),C(l.getLogger(this),$(r,e))}};function N(e,r){r.forEach((r=>G(e,r)))}function G(e,r){const{overrides:t,context:i}=r;S.forEachSublayer(e,(e=>e.read(t.get(e.id),i)))}function V(e,r){const t=new Map;for(const s of e)null!=s&&\"object\"==typeof s&&\"number\"==typeof s.id?t.set(s.id,s):r.messages?.push(new i(\"building-scene-layer:invalid-sublayer-override\",\"Invalid value for sublayer override. Not an object or no id specified.\",{value:s}));return{overrides:t,context:r}}function W(e,r,t){const i=[];S.forEachSublayer(e,(e=>{const r=e.write({},t);Object.keys(r).length>1&&i.push(r)})),i.length>0&&(r.sublayers=i)}function z(e,r,t){const i=t?.origin&&e.get(t.origin);i&&(r.sublayers=[],i.overrides.forEach((e=>{r.sublayers.push(o(e))})))}e([d({type:[\"BuildingSceneLayer\"]})],H.prototype,\"operationalLayerType\",void 0),e([d({readOnly:!0})],H.prototype,\"allSublayers\",void 0),e([d(M)],H.prototype,\"sublayers\",void 0),e([m(\"service\",\"sublayers\")],H.prototype,\"readSublayers\",null),e([d({type:R,nonNullable:!0,json:{write:!0}})],H.prototype,\"filters\",void 0),e([d({type:String,json:{write:!0}})],H.prototype,\"activeFilterId\",void 0),e([d({readOnly:!0,type:A})],H.prototype,\"summaryStatistics\",void 0),e([m(\"summaryStatistics\",[\"statisticsHRef\"])],H.prototype,\"readSummaryStatistics\",null),e([d({type:[String],json:{read:!1}})],H.prototype,\"outFields\",void 0),e([d(x)],H.prototype,\"fullExtent\",void 0),e([d(F)],H.prototype,\"legendEnabled\",void 0),e([d({type:[\"show\",\"hide\",\"hide-children\"]})],H.prototype,\"listMode\",void 0),e([d(B(b))],H.prototype,\"spatialReference\",void 0),e([d(K)],H.prototype,\"elevationInfo\",null),e([d({json:{read:!1},readOnly:!0})],H.prototype,\"type\",void 0),e([d()],H.prototype,\"associatedFeatureServiceItem\",void 0),H=e([h(\"esri.layers.BuildingSceneLayer\")],H);const J=H;export{J as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nlet n=null;function t(t){n=t}function u(){return n}export{u as getLoader,t as registerLoader};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{debounce as i}from\"../../core/promiseUtils.js\";import{urlToObject as s}from\"../../core/urlUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{updateOrigins as c}from\"../../core/accessorSupport/originUtils.js\";import d from\"../../geometry/Extent.js\";import u from\"../../geometry/HeightModelInfo.js\";import m from\"../../geometry/SpatialReference.js\";import{titleFromUrlAndName as h,parse as y,cleanTitle as f,sanitizeUrlWithLayerId as v,writeUrlWithLayerId as S}from\"../support/arcgisLayerUrl.js\";import{id as g,url as w}from\"../support/commonProperties.js\";import{fetchIndexInfo as x}from\"../support/I3SIndexInfo.js\";import{getLoader as I}from\"../support/schemaValidatorLoader.js\";import j from\"../../portal/Portal.js\";import b from\"../../portal/PortalItem.js\";import{createForItemWrite as _}from\"../../portal/support/jsonContext.js\";import{saveResources as E,updateItemWithResources as N}from\"../../webdoc/support/resourceUtils.js\";import{evaluateWriteErrors as A}from\"../../webdoc/support/saveUtils.js\";const R=R=>{let C=class extends R{constructor(){super(...arguments),this.spatialReference=null,this.fullExtent=null,this.heightModelInfo=null,this.minScale=0,this.maxScale=0,this.version={major:Number.NaN,minor:Number.NaN,versionString:\"\"},this.copyright=null,this.sublayerTitleMode=\"item-title\",this.title=null,this.layerId=null,this.indexInfo=null,this._debouncedSaveOperations=i((async(e,t,r)=>{switch(e){case V.SAVE:return this._save(t);case V.SAVE_AS:return this._saveAs(r,t)}}))}readSpatialReference(e,t){return U(t)}readFullExtent(e,t,r){if(null!=e&&\"object\"==typeof e){const o=null==e.spatialReference?{...e,spatialReference:U(t)}:e;return d.fromJSON(o,r)}const o=t.store,i=U(t);return null==i||null==o?.extent||!Array.isArray(o.extent)||o.extent.some((e=>e<L))?null:new d({xmin:o.extent[0],ymin:o.extent[1],xmax:o.extent[2],ymax:o.extent[3],spatialReference:i})}parseVersionString(e){const t={major:Number.NaN,minor:Number.NaN,versionString:e},r=e.split(\".\");return r.length>=2&&(t.major=parseInt(r[0],10),t.minor=parseInt(r[1],10)),t}readVersion(e,t){const r=t.store,o=null!=r.version?r.version.toString():\"\";return this.parseVersionString(o)}readTitlePortalItem(e){return\"item-title\"!==this.sublayerTitleMode?void 0:e}readTitleService(e,t){const r=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?h(this.url,t.name):t.name;let o=t.name;if(!o&&this.url){const e=y(this.url);null!=e&&(o=e.title)}return\"item-title-and-service-name\"===this.sublayerTitleMode&&r&&(o=r+\" - \"+o),f(o)}set url(e){if(null==e)return void this._set(\"url\",e);const t=v({layer:this,url:e,nonStandardUrlAllowed:!1,logger:o.getLogger(this)});this._set(\"url\",t.url),null!=t.layerId&&this._set(\"layerId\",t.layerId)}writeUrl(e,t,r,o){S(this,e,\"layers\",t,o)}get parsedUrl(){const e=this._get(\"url\"),t=s(e);return t&&null!=this.layerId&&(t.path=`${t.path}/layers/${this.layerId}`),t}async _fetchIndexAndUpdateExtent(e,t){this.indexInfo=x(this.parsedUrl?.path??\"\",this.rootNode,e,this.customParameters,this.apiKey,o.getLogger(this),t),null==this.fullExtent||this.fullExtent.hasZ||this._updateExtent(await this.indexInfo)}_updateExtent(e){if(\"page\"===e?.type){const t=e.rootIndex%e.pageSize,o=e.rootPage?.nodes?.[t];if(null==o?.obb?.center||null==o.obb.halfSize)throw new r(\"sceneservice:invalid-node-page\",\"Invalid node page.\");if(o.obb.center[0]<L||null==this.fullExtent||this.fullExtent.hasZ)return;const i=o.obb.halfSize,s=o.obb.center[2],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);this.fullExtent.zmin=s-a,this.fullExtent.zmax=s+a}else if(\"node\"===e?.type){const t=e.rootNode?.mbs;if(!Array.isArray(t)||4!==t.length||t[0]<L)return;const r=t[2],o=t[3],{fullExtent:i}=this;i&&(i.zmin=r-o,i.zmax=r+o)}}async _fetchService(e){if(null==this.url)throw new r(\"sceneservice:url-not-set\",\"Scene service can not be loaded without valid portal item or url\");if(null==this.layerId&&/SceneServer\\/*$/i.test(this.url)){const t=await this._fetchFirstLayerId(e);null!=t&&(this.layerId=t)}return this._fetchServiceLayer(e)}async _fetchFirstLayerId(e){const r=await t(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});if(r.data&&Array.isArray(r.data.layers)&&r.data.layers.length>0)return r.data.layers[0].id}async _fetchServiceLayer(e){const r=await t(this.parsedUrl?.path??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e});r.ssl&&this.url&&(this.url=this.url.replace(/^http:/i,\"https:\"));let o=!1;if(r.data.layerType&&\"Voxel\"===r.data.layerType&&(o=!0),o)return this._fetchVoxelServiceLayer();const i=r.data;this.read(i,this._getServiceContext()),this.validateLayer(i)}async _fetchVoxelServiceLayer(e){const r=(await t(this.parsedUrl?.path+\"/layer\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(r,this._getServiceContext()),this.validateLayer(r)}_getServiceContext(){return{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl}}async _ensureLoadBeforeSave(){await this.load(),\"beforeSave\"in this&&\"function\"==typeof this.beforeSave&&await this.beforeSave()}validateLayer(e){}async _saveAs(e,t){const o={...K,...t};let i=b.from(e);if(!i)throw new r(\"sceneservice:portal-item-required\",\"_saveAs() requires a portal item to save to\");i.id&&(i=i.clone(),i.id=null);const s=i.portal||j.getDefault();await this._ensureLoadBeforeSave(),i.type=P,i.portal=s;const a=_(i,\"portal-item\",!0),n={layers:[this.write({},a)]};return await Promise.all(a.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(n,a,o),this.url&&(i.url=this.url),i.title||(i.title=this.title),T(i,o,O.newItem),await s.signIn(),await s.user.addItem({item:i,folder:o?.folder,data:n}),await E(this.resourceReferences,a),this.portalItem=i,c(a),a.portalItem=i,i}async _save(e){const t={...K,...e};if(!this.portalItem)throw new r(\"sceneservice:portal-item-not-set\",\"Portal item to save to has not been set on this SceneService\");if(this.portalItem.type!==P)throw new r(\"sceneservice:portal-item-wrong-type\",`Portal item needs to have type \"${P}\"`);await this._ensureLoadBeforeSave();const o=_(this.portalItem,\"portal-item\",!0),i={layers:[this.write({},o)]};return await Promise.all(o.resources.pendingOperations??[]),await this._validateAgainstJSONSchema(i,o,t),this.url&&(this.portalItem.url=this.url),this.portalItem.title||(this.portalItem.title=this.title),T(this.portalItem,t,O.existingItem),await N(this.portalItem,i,this.resourceReferences,o),c(o),this.portalItem}async _validateAgainstJSONSchema(e,t,i){const s=i?.validationOptions;A(t,{errorName:\"sceneservice:save\"},{ignoreUnsupported:s?.ignoreUnsupported,supplementalUnsupportedErrors:[\"scenemodification:unsupported\"]});const a=s?.enabled,n=I();if(a&&n){const t=(await n()).validate(e,i.portalItemLayerType);if(!t.length)return;const a=`Layer item did not validate:\\n${t.join(\"\\n\")}`;if(o.getLogger(this).error(`_validateAgainstJSONSchema(): ${a}`),\"throw\"===s.failPolicy){const e=t.map((e=>new r(\"sceneservice:schema-validation\",e)));throw new r(\"sceneservice-validate:error\",\"Failed to save layer item due to schema validation, see `details.errors`.\",{validationErrors:e})}}}};return e([a(g)],C.prototype,\"id\",void 0),e([a({type:m})],C.prototype,\"spatialReference\",void 0),e([n(\"spatialReference\",[\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],C.prototype,\"readSpatialReference\",null),e([a({type:d})],C.prototype,\"fullExtent\",void 0),e([n(\"fullExtent\",[\"fullExtent\",\"store.extent\",\"spatialReference\",\"store.indexCRS\",\"store.geographicCRS\"])],C.prototype,\"readFullExtent\",null),e([a({readOnly:!0,type:u})],C.prototype,\"heightModelInfo\",void 0),e([a({type:Number,json:{name:\"layerDefinition.minScale\",write:!0,origins:{service:{read:{source:\"minScale\"},write:!1}}}})],C.prototype,\"minScale\",void 0),e([a({type:Number,json:{name:\"layerDefinition.maxScale\",write:!0,origins:{service:{read:{source:\"maxScale\"},write:!1}}}})],C.prototype,\"maxScale\",void 0),e([a({readOnly:!0})],C.prototype,\"version\",void 0),e([n(\"version\",[\"store.version\"])],C.prototype,\"readVersion\",null),e([a({type:String,json:{read:{source:\"copyrightText\"}}})],C.prototype,\"copyright\",void 0),e([a({type:String,json:{read:!1}})],C.prototype,\"sublayerTitleMode\",void 0),e([a({type:String})],C.prototype,\"title\",void 0),e([n(\"portal-item\",\"title\")],C.prototype,\"readTitlePortalItem\",null),e([n(\"service\",\"title\",[\"name\"])],C.prototype,\"readTitleService\",null),e([a({type:Number,json:{origins:{service:{read:{source:\"id\"}},\"portal-item\":{write:{target:\"id\",isRequired:!0,ignoreOrigin:!0},read:!1}}}})],C.prototype,\"layerId\",void 0),e([a(w)],C.prototype,\"url\",null),e([p(\"url\")],C.prototype,\"writeUrl\",null),e([a()],C.prototype,\"parsedUrl\",null),e([a({readOnly:!0})],C.prototype,\"store\",void 0),e([a({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],C.prototype,\"rootNode\",void 0),C=e([l(\"esri.layers.mixins.SceneService\")],C),C},L=-1e38;function U(e){if(null!=e.spatialReference)return m.fromJSON(e.spatialReference);const t=e.store,r=t.indexCRS||t.geographicCRS,o=r&&parseInt(r.slice(r.lastIndexOf(\"/\")+1),10);return null!=o?new m(o):null}function T(e,t,r){e.typeKeywords||(e.typeKeywords=[]);const o=t.getTypeKeywords();for(const i of o)e.typeKeywords.push(i);e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)),r===O.newItem&&(e.typeKeywords=e.typeKeywords.filter((e=>\"Hosted Service\"!==e))))}var O;!function(e){e[e.existingItem=0]=\"existingItem\",e[e.newItem=1]=\"newItem\"}(O||(O={}));const P=\"Scene Service\",K={getTypeKeywords:()=>[],portalItemLayerType:\"unknown\",validationOptions:{enabled:!0,ignoreUnsupported:!1,failPolicy:\"throw\"}};var V;!function(e){e[e.SAVE=0]=\"SAVE\",e[e.SAVE_AS=1]=\"SAVE_AS\"}(V||(V={}));export{V as SaveOperationType,R as SceneService,P as sceneServiceItemType};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","type","readOnly","json","origins","service","read","source","reader","r","Array","isArray","map","layerType","c","y","messages","definition","context","constructor","super","this","listMode","sublayers","loadAll","forEachSublayer","write","prototype","sublayersProperty","readSublayers","String","isRequired","filterType","filterValues","clone","ofType","m","filterTypes","filterBlocks","edges","wireFrame","nonNullable","types","key","base","typeMap","solid","fromJSON","enabled","filterExpression","filterMode","title","description","id","name","filterAuthoringInfo","checkbox","constructOnly","fieldName","modelName","label","min","max","mostFrequentValues","subLayerIds","Number","every","slice","LoadableMixin","EsriPromiseMixin","url","customParameters","fields","loaded","loadStatus","_get","getLogger","error","load","signal","addResolvingPromise","_fetchService","Promise","resolve","query","token","apiKey","responseType","data","origin","R","P","M","S","k","g","overridePolicy","H","O","j","_","I","L","w","v","operationalLayerType","allSublayers","getCollections","getChildrenFunction","_allSublayerOverrides","filters","activeFilterId","summaryStatistics","outFields","legendEnabled","normalizeCtorArgs","destroy","layer","G","N","Object","keys","W","get","overrides","z","Map","set","value","V","readSummaryStatistics","statisticsHRef","parsedUrl","path","A","elevationInfo","mode","_set","_validateElevationInfo","loadFromPortal","supportedTypes","catch","then","_fetchAssociatedFeatureService","saveAs","_debouncedSaveOperations","T","SAVE_AS","getTypeKeywords","_getTypeKeywords","portalItemLayerType","save","SAVE","validateLayer","portalItem","E","layerId","sceneLayerItem","associatedFeatureServiceItem","_logWarningOnPopupEnabled","AbortController","addHandles","filter","some","popupEnabled","attributeStorageInfo","join","warn","C","U","$","x","F","B","b","K","h","J","spatialReference","fullExtent","heightModelInfo","minScale","maxScale","version","major","NaN","minor","versionString","copyright","sublayerTitleMode","indexInfo","_save","_saveAs","readSpatialReference","readFullExtent","store","extent","xmin","ymin","xmax","ymax","parseVersionString","split","parseInt","readVersion","toString","readTitlePortalItem","readTitleService","nonStandardUrlAllowed","logger","writeUrl","_fetchIndexAndUpdateExtent","rootNode","hasZ","_updateExtent","rootIndex","pageSize","rootPage","nodes","obb","center","halfSize","Math","sqrt","zmin","zmax","mbs","test","_fetchFirstLayerId","_fetchServiceLayer","layers","ssl","replace","_fetchVoxelServiceLayer","_getServiceContext","portal","_ensureLoadBeforeSave","beforeSave","from","getDefault","all","resources","pendingOperations","_validateAgainstJSONSchema","newItem","signIn","user","addItem","item","folder","resourceReferences","existingItem","validationOptions","errorName","ignoreUnsupported","supplementalUnsupportedErrors","validate","failPolicy","validationErrors","target","ignoreOrigin","indexCRS","geographicCRS","lastIndexOf","typeKeywords","indexOf"],"sourceRoot":""}