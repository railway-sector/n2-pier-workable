"use strict";(self.webpackChunkn2_pier_workable=self.webpackChunkn2_pier_workable||[]).push([[84188],{62315:(e,t,i)=>{i.d(t,{A:()=>h});var s=i(35143),l=i(69098),r=i(73582),n=i(42553),a=i(30726),o=i(46053),d=i(21403),p=(i(81806),i(47249),i(85842)),u=i(40565),y=i(19247);let c=class extends(l.A.ClonableMixin(n.A)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&this.width===e.width&&this.height===e.height&&(0,a.CM)(this.position,e.position)}};(0,s._)([(0,o.MZ)({type:["plane"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,s._)([(0,o.MZ)({type:y.A,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.w)(e=>r.ie.normalize((0,u.GB)(e),0,!0))],c.prototype,"heading",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.w)(e=>r.ie.normalize((0,u.GB)(e),0,!0))],c.prototype,"tilt",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"width",void 0),(0,s._)([(0,o.MZ)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"height",void 0),c=(0,s._)([(0,p.$)("esri.analysis.SlicePlane")],c);const h=c},84188:(e,t,i)=>{i.d(t,{default:()=>_});var s=i(35143),l=i(95085),r=i(62315),n=i(42553),a=i(46053),o=(i(81806),i(76460),i(47249),i(85842));let d=class extends n.A{constructor(e){super(e),this.layerId=""}static fromLayer(e){return new this({layerId:"building-component"===e.type?e.layer.id:e.id,sublayerId:"building-component"===e.type?e.id:void 0})}};(0,s._)([(0,a.MZ)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"layerId",void 0),(0,s._)([(0,a.MZ)({type:Number,json:{write:!0}})],d.prototype,"sublayerId",void 0),d=(0,s._)([(0,o.$)("esri.analysis.support.SliceAnalysisExcludedLayer")],d);var p=i(19276),u=i(3975),y=i(53084),c=i(30726),h=i(28379),b=i(17707);let w=class extends l.A{constructor(e){super(e),this.type="slice",this.tiltEnabled=!1,this.shape=null,this.excludeGroundSurface=!1}get excludedLayers(){return this._get("excludedLayers")||new p.A}set excludedLayers(e){this._set("excludedLayers",(0,u.V)(e,this._get("excludedLayers")))}writeExcludedLayers(e,t,i,s){0!==e.length&&(t[i]=e.toArray().map(e=>d.fromLayer(e).toJSON(s)))}readExcludedLayers(e,t,i){const s=i?.initiator;s&&i?.hooks?.onAfterLoad(async()=>{for(const t of e){const{layerId:e,sublayerId:l}=d.fromJSON(t,i),r=s.allLayers.find(t=>{let{id:i}=t;return i===e});if(r)if(null!=l&&"allSublayers"in r){await r.load();const e=r.allSublayers.find(e=>{let{id:t}=e;return t===l});e&&"type"in e&&"building-component"===e.type&&this.excludedLayers.add(e)}else this.excludedLayers.add(r)}})}get valid(){return null!=this.shape?.position}equals(e){return this===e||super.equals(e)&&(0,c.CM)(this.shape,e.shape)&&this.tiltEnabled===e.tiltEnabled&&(0,y.gh)(this.excludedLayers.toArray(),e.excludedLayers.toArray())&&this.excludeGroundSurface===e.excludeGroundSurface}clear(){this.shape=null}};(0,s._)([(0,a.MZ)({type:["slice"],json:{read:!1,write:{isRequired:!0}}})],w.prototype,"type",void 0),(0,s._)([(0,a.MZ)({type:Boolean,nonNullable:!0,json:{write:!0,default:!1}})],w.prototype,"tiltEnabled",void 0),(0,s._)([(0,a.MZ)({types:{key:"type",base:null,typeMap:{plane:r.A},defaultKeyValue:"plane"},json:{write:{isRequired:!0}}})],w.prototype,"shape",void 0),(0,s._)([(0,a.MZ)({cast:u.H,clonable:e=>e.slice(),json:{type:[d],write:!0}})],w.prototype,"excludedLayers",null),(0,s._)([(0,b.K)("excludedLayers")],w.prototype,"writeExcludedLayers",null),(0,s._)([(0,h.w)("excludedLayers")],w.prototype,"readExcludedLayers",null),(0,s._)([(0,a.MZ)({type:Boolean,nonNullable:!0,json:{write:!0}})],w.prototype,"excludeGroundSurface",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],w.prototype,"valid",null),w=(0,s._)([(0,o.$)("esri.analysis.SliceAnalysis")],w);const _=w},95085:(e,t,i)=>{i.d(t,{A:()=>y});var s=i(35143),l=i(92229),r=i(91967),n=i(69098),a=i(5632),o=i(42553),d=i(46053),p=(i(81806),i(76460),i(47249),i(85842));let u=0,y=class extends(o.A.JSONSupportMixin(n.A.ClonableMixin(a.A.IdentifiableMixin(r.A)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${u++}`,this.origin=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":case"viewshed":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}equals(e){return!0}};(0,s._)([(0,d.MZ)({type:String,constructOnly:!0,clonable:!1})],y.prototype,"id",void 0),(0,s._)([(0,d.MZ)({clonable:!1,value:null})],y.prototype,"parent",null),(0,s._)([(0,d.MZ)({types:{key:"type",base:null,typeMap:{"web-scene":l.A}}})],y.prototype,"origin",void 0),y=(0,s._)([(0,p.$)("esri.analysis.Analysis")],y)}}]);
//# sourceMappingURL=84188.7791193e.chunk.js.map