"use strict";(self.webpackChunkn2_pier_workable=self.webpackChunkn2_pier_workable||[]).push([[89694],{89694:(t,r,e)=>{e.r(r),e.d(r,{SplatSortWorkerInput:()=>s,SplatSortWorkerOutput:()=>n,destroy:()=>h,sort:()=>f});class s{constructor(t,r,e){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=r,this.numGaussians=e,this.preciseSort=s}}class n{constructor(t,r){this.distances=t,this.sortedOrderIndices=r}}let o=null,l=null;const a=10,i=20,u=.25;function c(t,r){const e=t.length,s=Math.max(a,Math.min(i,Math.round(Math.log2(e/u)))),n=1+(1<<s);!function(t,r){o?.length!==t&&(o=new Uint32Array(t)),l&&l.length===1+(1<<r)?l.fill(0):l=new Uint32Array(1+(1<<r))}(e,s);let c=t[0],f=t[0];for(let o=0;o<t.length;o++)c=Math.min(c,t[o]),f=Math.max(f,t[o]);const h=f-c;if(h<1e-6)for(let a=0;a<e;++a)o[a]=0,l[0]++;else{const r=(1<<s)/h;for(let s=0;s<e;s++){const e=(t[s]-c)*r>>>0;o[s]=e,l[e]++}}for(let o=1;o<n;o++)l[o]+=l[o-1];for(let a=0;a<e;a++){const t=o[a];r[--l[t]]=a}}async function f(t){const{distances:r,sortOrderIndices:e,preciseSort:s,numGaussians:o}=t,l=r.subarray(0,o),a=e.subarray(0,o);if(0===l.length||0===a.length)return{result:new n(r,e),transferList:[r.buffer,e.buffer]};if(s){const t=Array.from(a.keys());t.sort((t,r)=>l[t]-l[r]||t-r);const r=t.map(t=>a[t]);a.set(r)}else c(l,a);return{result:new n(r,e),transferList:[r.buffer,e.buffer]}}function h(){o=null,l=null}}}]);
//# sourceMappingURL=89694.b7c093fc.chunk.js.map