{"version":3,"file":"static/js/91895.1faa50e8.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js","../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js","../node_modules/@arcgis/core/views/3d/layers/GraphicsLayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import e from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as p}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as u}from\"../../../../core/support/UpdatingHandles.js\";import d from\"../../../../layers/Layer.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as g,getRenderingInfoAsync as m}from\"../../../../renderers/support/renderingInfoUtils.js\";import f from\"../../../../rest/support/Query.js\";import{DrapeSourceType as b}from\"../interfaces.js\";import{suspendResumeExtentOptimism as C}from\"./constants.js\";import{Graphics3DCore as w}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as j}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as V}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as v}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as G}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as S}from\"./graphicUtils.js\";import{normalizeHighlightTargetExceptQuery as E}from\"../support/highlightUtils.js\";import{UpdatePolicy as O}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{hasLayerBasedScaleVisibility as _}from\"../../../support/layerViewUtils.js\";let x=class extends e{constructor(i){super(i),this.drapeSourcePriorityOffset=0,this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=b.Features,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new u}initialize(){const{layer:i}=this,t=\"effectiveScaleRange\"in i?i:null,e=!_()&&this.scaleVisibilityEnabled&&null!=t,r=new w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:O.SYNC,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(i,t)=>new j({graphicsCoreOwner:this,graphicsCore:i,queryGraphicUIDsInExtent:t,elevationProvider:this.view.elevationProvider}),scaleVisibility:e?(i,e)=>new G({graphicsCoreOwner:this,layer:t,queryGraphicUIDsInExtent:e,graphicsCore:i,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:i=>new v(i)}});if(this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new V({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const i=this.owner;this._updatingHandles.add((()=>i.fullOpacity),(()=>this.graphicsCore.opacityChange()))}if(\"elevationInfo\"in i){const t=i;this._updatingHandles.add((()=>t.elevationInfo),((i,t)=>{h(i,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())}))}this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(i){if(n(i))return;throw i}this.destroyed||(this.addHandles(o((()=>this.view.clippingArea),(()=>this._updateClippingExtent()),a)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",s(this.frustumVisibility)),this._set(\"graphicsCore\",s(this.graphicsCore))}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.uid}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(i){this.graphicsCore.notifyGraphicGeometryChanged(i)}notifyGraphicVisibilityChanged(i){this.graphicsCore.notifyGraphicVisibilityChanged(i)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(i,t,e){const r=g(i,{renderer:t,arcade:e});if(r?.color){const i=r.color;i[0]=i[0]/255,i[1]=i[1]/255,i[2]=i[2]/255}return r}getRenderingInfoAsync(i,t,e,r){return m(i,{renderer:t,arcade:e,...r})}getHit(i){if(this.owner.loadedGraphics){const t=this.owner.loadedGraphics.find((t=>t.uid===i));if(t){const i=this.layer instanceof d?this.layer:null,e=y(t,i);return{type:\"graphic\",graphic:e,layer:e.layer}}}return null}whenGraphicBounds(i,t){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(i,t):Promise.reject()}computeAttachmentOrigin(i,t){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(i,t):null}getSymbolLayerSize(i,t){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(i,t):null}maskOccludee(i){const t=this.graphicsCore?.objectStates;if(!t)return r();const{set:e,handle:s}=t.acquireOccludeeSet(null);return t.setUid(e,i.uid),s}highlight(i,e){const r=this.graphicsCore?.objectStates;if(!r)return P;if(i instanceof f)return P;const s=E(i);if(0===s.length)return P;if(s[0]instanceof t){const i=s.map((i=>i.uid)),{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setUids(t,i),n}if(\"number\"==typeof s[0]){const i=s,{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setObjectIds(t,i),n}return P}_setupSuspendResumeExtent(){const{scaleVisibility:i,frustumVisibility:t}=this;if(null==i&&null==t)return;const e=({computedExtent:e,extentPadding:r})=>{this._suspendResumeExtent=S(e,this._suspendResumeExtent,C,r),null!=i&&i.setExtent(this._suspendResumeExtent),null!=t&&t.setExtent(this._suspendResumeExtent)};this.addHandles(o((()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding})),(i=>e(i)),p))}_updateClippingExtent(){const i=this.view.clippingArea;this.graphicsCore.setClippingExtent(i,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};i([l()],x.prototype,\"drapeSourcePriorityOffset\",void 0),i([l()],x.prototype,\"type\",void 0),i([l({constructOnly:!0})],x.prototype,\"owner\",void 0),i([l()],x.prototype,\"layer\",null),i([l()],x.prototype,\"layerViewUid\",null),i([l()],x.prototype,\"view\",null),i([l({constructOnly:!0})],x.prototype,\"graphicsCore\",void 0),i([l()],x.prototype,\"scaleVisibility\",null),i([l({constructOnly:!0})],x.prototype,\"frustumVisibility\",void 0),i([l()],x.prototype,\"elevationAlignment\",null),i([l()],x.prototype,\"scaleVisibilitySuspended\",null),i([l({readOnly:!0})],x.prototype,\"frustumVisibilitySuspended\",null),i([l()],x.prototype,\"suspended\",null),i([l({readOnly:!0})],x.prototype,\"updating\",null),i([l()],x.prototype,\"loadedGraphics\",null),i([l()],x.prototype,\"fullOpacity\",null),i([l()],x.prototype,\"slicePlaneEnabled\",null),i([l()],x.prototype,\"drapeSourceType\",void 0),i([l()],x.prototype,\"updatePolicy\",null),i([l({constructOnly:!0})],x.prototype,\"scaleVisibilityEnabled\",void 0),i([l({constructOnly:!0})],x.prototype,\"frustumVisibilityEnabled\",void 0),i([l()],x.prototype,\"initializePromise\",void 0),x=i([c(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],x);const P=r();export{x as GraphicsProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../../../../geometry/SpatialReference.js\";import{projectPointToVectorAsync as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{getGeometryEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{extractExpressionInfo as f,createContext as c}from\"./featureExpressionInfoUtils.js\";async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=t.fromJSON(y),w=f(I,!0),R=await c(w,h,u);e(u);const S=[],b=new Set,z=new Set,E=new p,P=i(0,0,0,t.WGS84),U=new a,C=o();P.spatialReference=h;const F=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo(n(i,I)),E.updateFeatureExpressionInfoContext(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)P.x=e,P.y=n,P.z=a??0,await r(P,C,F,0,{signal:u}),s(C,v,E,g,U),S.push(U.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}export{l as elevationAlignPointsInFeatures};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{when as i}from\"../../../core/reactiveUtils.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{LayerView3D as a}from\"./LayerView3D.js\";import{elevationAlignPointsInFeatures as n}from\"./graphics/elevationAlignPointsInFeatures.js\";import{GraphicsProcessor as p}from\"./graphics/GraphicsProcessor.js\";import{queryForSymbologySnapping as l}from\"./graphics/queryForSymbologySnapping.js\";import{LayerViewPerformanceInfo as c}from\"./support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as h}from\"../webgl-engine/lib/UpdatePolicy.js\";import d from\"../../layers/LayerView.js\";import{defaultHighlightName as u}from\"../../support/HighlightDefaults.js\";import{isInEffectiveScaleRange as g,hasLayerBasedScaleVisibility as m}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as y}from\"../../support/projectionUtils.js\";let f=class extends(a(d)){constructor(){super(...arguments),this.type=\"graphics-3d\",this.symbologySnappingSupported=!0,this._slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.ignoresMemoryFactor=!0}get highlightOptions(){return null}initialize(){this._set(\"processor\",new p({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.addHandles(this.layer.on(\"graphic-update\",(e=>this.processor.graphicsCore.graphicUpdateHandler(e)))),this.layer.internal?this.notifyChange(\"updating\"):(\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await y(this.layer.fullExtent,this.view.spatialReference))()),this.addHandles(i((()=>this.view?.basemapTerrain?.ready),(()=>()=>this.notifyChange(\"updating\")),{once:!0})))}destroy(){this._updatingHandles.removeAll(),this._set(\"processor\",s(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}get visibleAtCurrentScale(){return m()?g(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}get slicePlaneEnabled(){const e=this.layer.internal;return this._slicePlaneEnabled&&!e}set slicePlaneEnabled(e){this._slicePlaneEnabled=e}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}getHit(e){return this.processor.getHit(e)}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e,r){return this.processor.highlight(e,r?.name??u)}notifyContentGeometryUpdate(){this.emit(\"visible-geometry-changed\")}async elevationAlignPointsInFeatures(e,s){const{processor:i}=this;if(null==i?.graphics3DGraphics)throw new r(\"graphicslayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");const{graphics3DGraphics:t}=i,o=e=>\"number\"==typeof e?t.get(e):void 0;return n(this.view,this.layer,o,e,s)}async queryForSymbologySnapping(e,r){return l(this.processor,e,r)}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||h.SYNC}isUpdating(){return this.view&&this.layer&&!(!this.processor?.updating&&(this.layer.internal||this.view.basemapTerrain?.ready))}get performanceInfo(){return new c(this.usedMemory,this.loadedGraphics.length,-1,-1)}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return this.processor?.graphicsCore?.unprocessedMemoryEstimate}get test(){return{graphics3DProcessor:this.processor,loadedGraphics:this.loadedGraphics}}};e([t()],f.prototype,\"highlightOptions\",null),e([t()],f.prototype,\"loadedGraphics\",null),e([t({readOnly:!0})],f.prototype,\"legendEnabled\",null),e([t()],f.prototype,\"layer\",void 0),e([t({readOnly:!0})],f.prototype,\"processor\",void 0),e([t({readOnly:!0})],f.prototype,\"visibleAtCurrentScale\",null),e([t()],f.prototype,\"_slicePlaneEnabled\",void 0),e([t({type:Boolean})],f.prototype,\"slicePlaneEnabled\",null),f=e([o(\"esri.views.3d.layers.GraphicsLayerView3D\")],f);const b=f;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{loadArcade as n}from\"../../../../support/loadArcade.js\";async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,o=[],c=[],{renderer:d}=r,l=null!=d&&\"arcadeRequired\"in d&&d.arcadeRequired?n():null,p=async(e,{graphic:n,graphics3DSymbol:t})=>{const a=await l,i=await r.getRenderingInfoAsync(n,d,a,{signal:s});return null==i?[]:t.queryForSnapping(e,g,i,s)},{candidates:u,spatialReference:g}=a;for(let e=0;e<u.length;++e){const n=u[e],{objectId:r}=n,t=\"number\"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(o.push(p(n,t)),c.push(e))}if(0===o.length)return t;const h=await Promise.all(o);e(s);const f=[],m=[];for(let e=0;e<h.length;++e){const n=h[e],r=c[e];for(const e of n)f.push(e),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};export{r as queryForSymbologySnapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n"],"names":["x","e","constructor","i","super","this","drapeSourcePriorityOffset","type","graphicsCore","drapeSourceType","b","Features","scaleVisibilityEnabled","frustumVisibilityEnabled","_suspendResumeExtent","_updatingHandles","u","initialize","layer","t","_","r","w","owner","preferredUpdatePolicy","O","SYNC","graphicSymbolSupported","componentFactories","elevationAlignment","j","graphicsCoreOwner","queryGraphicUIDsInExtent","elevationProvider","view","scaleVisibility","G","basemapTerrain","objectStates","v","_set","V","add","fullOpacity","opacityChange","elevationInfo","h","addPromise","elevationInfoChange","_initializeAsync","initializePromise","n","destroyed","addHandles","o","clippingArea","_updateClippingExtent","a","_setupSuspendResumeExtent","startCreateGraphics","destroy","s","frustumVisibility","layerViewUid","uid","scaleVisibilitySuspended","suspended","frustumVisibilitySuspended","updating","graphics3DGraphics","graphics3DGraphicsByObjectID","loadedGraphics","slicePlaneEnabled","updatePolicy","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","notifyContentGeometryUpdate","getRenderingInfo","g","renderer","arcade","color","getRenderingInfoAsync","m","getHit","find","d","y","graphic","whenGraphicBounds","Promise","reject","computeAttachmentOrigin","getSymbolLayerSize","maskOccludee","set","handle","acquireOccludeeSet","setUid","highlight","P","f","E","length","map","acquireHighlightSet","setUids","setObjectIds","_ref","computedExtent","extentPadding","S","C","setExtent","p","setClippingExtent","spatialReference","recreateAllGraphics","l","prototype","constructOnly","readOnly","c","async","arguments","undefined","popupTemplate","getRequiredFields","fieldsIndex","lastEditInfoEnabled","objectIdField","typeIdField","globalIdField","relationships","includes","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","renderCoordsHelper","I","pointsInFeatures","fromJSON","R","Set","z","WGS84","U","F","objectId","points","isDraped","geometry","setFromElevationInfo","updateFeatureExpressionInfoContext","signal","elevations","drapedObjectIds","failedObjectIds","symbologySnappingSupported","_slicePlaneEnabled","fullExtentInLocalViewSpatialReference","ignoresMemoryFactor","highlightOptions","addResolvingPromise","processor","on","graphicUpdateHandler","internal","notifyChange","viewingMode","fullExtent","ready","once","removeAll","graphics","legendEnabled","canResume","visibleAtCurrentScale","effectiveScaleRange","scale","getSuspendInfo","outsideOfView","queryGraphics","resolve","name","emit","elevationAlignPointsInFeatures","get","queryForSymbologySnapping","effectiveUpdatePolicy","isUpdating","performanceInfo","usedMemory","unloadedMemory","unprocessedMemoryEstimate","test","graphics3DProcessor","Boolean","candidates","arcadeRequired","graphics3DSymbol","queryForSnapping","all","sourceCandidateIndices","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","parent","when","catch","id","title","getLogger","error","opacity","suspendInfo","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}