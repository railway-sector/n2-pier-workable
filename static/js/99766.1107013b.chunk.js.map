{"version":3,"file":"static/js/99766.1107013b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/webgl-engine/core/material/RenderTexture.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/ObjectParameters.js","../node_modules/@arcgis/core/libs/i3s/enums.js","../node_modules/@arcgis/core/layers/support/SceneModification.js","../node_modules/@arcgis/core/geometry/projection/localLinearScaleFactors.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LayerElevationProvider.js","../node_modules/@arcgis/core/views/3d/webgl-engine/collections/Component/Transform.js","../node_modules/@arcgis/core/geometry/projection/projectBoundingSphere.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SMeshWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/support/lyr3dTypeConversions.js","../node_modules/@arcgis/core/views/3d/layers/support/Tiles3DIntersectionHandler.js","../node_modules/@arcgis/core/views/3d/layers/IntegratedMesh3DTilesLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e}from\"../../../../../core/maybe.js\";import{isPromiseLike as t}from\"../../../../../core/promiseUtils.js\";class s{constructor(s,r){this._textures=s,this.loadPromise=null,this._disposed=!1;const i=this._textures.acquire(r);t(i)?(i.then((t=>{this._disposed?e(t):this._textureRef=t})),this.loadPromise=i):this._textureRef=i}dispose(){this._textureRef=e(this._textureRef),this._disposed=!0}get glTexture(){return null!=this._textureRef?this._textureRef.glTexture:null}}export{s as RenderTexture};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,o,r){this.toMapSpace=t,this.transform=s,this.obb=o,this.geometry=r}}export{t as ObjectParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nvar n,e;!function(n){n[n.None=0]=\"None\",n[n.Int16=1]=\"Int16\",n[n.Int32=2]=\"Int32\"}(n||(n={})),function(n){n[n.Replace=0]=\"Replace\",n[n.Outside=1]=\"Outside\",n[n.Inside=2]=\"Inside\",n[n.Finished=3]=\"Finished\"}(e||(e={}));export{n as IndexType,e as ModificationType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/JSONSupport.js\";import{clone as o}from\"../../core/lang.js\";import t from\"../../core/Warning.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as i}from\"../../core/accessorSupport/decorators/writer.js\";import{persistable as a}from\"../../core/accessorSupport/decorators/persistable.js\";import c from\"../../geometry/Polygon.js\";import{canProjectWithoutEngine as l,projectPolygon as n}from\"../../geometry/projectionUtils.js\";var m;let f=m=class extends r{constructor(e){super(e),this.geometry=null,this.type=\"clip\"}writeGeometry(e,r,o,s){if(s.layer?.spatialReference&&!s.layer.spatialReference.equals(this.geometry.spatialReference)){if(!l(e.spatialReference,s.layer.spatialReference))return void(s?.messages&&s.messages.push(new t(\"scenemodification:unsupported\",\"Scene modifications with incompatible spatial references are not supported\",{modification:this,spatialReference:s.layer.spatialReference,context:s})));const p=new c;n(e,p,s.layer.spatialReference),r[o]=p.toJSON(s)}else r[o]=e.toJSON(s);delete r[o].spatialReference}clone(){return new m({geometry:o(this.geometry),type:this.type})}};e([s({type:c}),a()],f.prototype,\"geometry\",void 0),e([i([\"web-scene\",\"portal-item\"],\"geometry\")],f.prototype,\"writeGeometry\",null),e([s({type:[\"clip\",\"mask\",\"replace\"],nonNullable:!0}),a()],f.prototype,\"type\",void 0),f=m=e([p(\"esri.layers.support.SceneModification\")],f);export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{l as r}from\"../../chunks/vec32.js\";import{getProjectorClassification as t,ProjectionID as e,invPlateCarreeScale as s}from\"./projectors.js\";import{earth as o}from\"../support/Ellipsoid.js\";import{equals as i}from\"../support/spatialReferenceUtils.js\";function n(n,f,u,c){const p=t(f,c);if(null==p)return!1;const a=p.source.spatialReferenceId,E=p.dest.spatialReferenceId;if(a===E&&a!==e.UNKNOWN||i(f,c))return u[0]=1,u[1]=1,u[2]=1,!0;if(a===e.SPHERICAL_ECEF){const t=r(n),i=t/Math.sqrt(n[0]*n[0]+n[1]*n[1]),f=t/o.radius;if(E===e.WEB_MERCATOR)return u[0]=i*f,u[1]=i*f,u[2]=1,!0;if(E===e.WGS84||E===e.CGCS2000){const r=s;return u[0]=r*i*f,u[1]=r*f,u[2]=1,!0}}else if(a===e.PLATE_CARREE){if(E===e.WGS84||E===e.CGCS2000)return u[0]=s,u[1]=s,u[2]=1,!0;if(E===e.WEB_MERCATOR){const r=n[1]/o.radius;return u[0]=1,u[1]=1/Math.cos(r),u[2]=1,!0}}return!1}export{n as localLinearScaleFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Evented.js\";import o from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromQuat as s}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{i as l,t as c}from\"../../../../chunks/vec32.js\";import{create as p}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBoundingSphere as m}from\"../../../../geometry/projection/projectBoundingSphere.js\";import{empty as u,expand as h}from\"../../../../geometry/support/aaBoundingRect.js\";import{f as d}from\"../../../../chunks/sphere.js\";import{ElevationRange as f}from\"../../support/ElevationRange.js\";import{ElevationUpdateEvent as v}from\"../../support/ElevationUpdateEvent.js\";import{Intersector as g}from\"../../webgl-engine/lib/Intersector.js\";import{StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";let x=class extends(r.EventedMixin(t)){constructor(e){super(e),this._tmpEvent=new v,this._renderCoordsHelper=e.view.renderCoordsHelper,this._renderSR=this._renderCoordsHelper.spatialReference,this._layerElevationSource=e.layerElevationSource}initialize(){this._intersector=new g(this.view.state.viewingMode),this._intersector.options.store=E.MIN,this._intersector.options.normalRequired=!1,this._tmpEvent.context=this.intersectionHandler.isGround?\"ground\":\"scene\"}get spatialReference(){return this.view?.elevationProvider?.spatialReference}getElevation(e,t,r,i){const n=this._renderCoordsHelper,s=l(R,e,t,r);if(!n.toRenderCoords(s,i,s))return o.getLogger(this).error(\"could not project point to compute elevation\"),null;const{layerElevationSource:a,_intersector:c,intersectionHandler:p}=this,m=a.fullExtent,u=null!=m&&Number.isFinite(m.xmin)&&Number.isFinite(m.xmax)&&Number.isFinite(m.ymin)&&Number.isFinite(m.ymax)&&Number.isFinite(m.zmin)&&Number.isFinite(m.zmax)?new f(m.zmin,m.zmax):a.elevationRange;if(null==u)return null;const h=a.elevationOffset,d=u.elevationRangeMin+h,v=u.elevationRangeMax+h,g=n.setAltitude(y,v,s),E=n.setAltitude(b,d,s);return c.reset(g,E,this.view.state.camera),p.intersect(c,null,g,E,null,!0),c.results.min.getIntersectionPoint(s)?n.getAltitude(s):null}getSphereElevationBounds(e,t){return m(e,t,j,this._renderSR),this._layerElevationSource.getElevationRange(j)}getRootElevationBounds(){const e=this.layerElevationSource.fullExtent;return e?.hasZ?new f(e.zmin,e.zmax):null}objectsChanged(e){this.spatialReference&&(this._computeLayerExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}objectChanged(e){this.spatialReference&&(this._computeObjectExtent(e,this._tmpEvent.extent),this._tmpEvent.spatialReference=this.spatialReference,this.emit(\"elevation-change\",this._tmpEvent))}_computeObjectExtent(e,t){u(t),this._expandExtent(e,t)}_computeLayerExtent(e,t){u(t);for(const r of e)this._expandExtent(r,t)}_expandExtent(e,t){const r=this.spatialReference;if(null==r)return;if(null==e)return;s(_,e.quaternion),_[12]=e.center[0],_[13]=e.center[1],_[14]=e.center[2];const o=e.halfSize;for(let i=0;i<8;++i)R[0]=1&i?o[0]:-o[0],R[1]=2&i?o[1]:-o[1],R[2]=4&i?o[2]:-o[2],c(R,R,_),this._renderCoordsHelper.fromRenderCoords(R,R,r),h(t,R,t)}};e([i({constructOnly:!0})],x.prototype,\"layerElevationSource\",void 0),e([i({constructOnly:!0})],x.prototype,\"intersectionHandler\",void 0),e([i({constructOnly:!0})],x.prototype,\"view\",void 0),e([i()],x.prototype,\"spatialReference\",null),x=e([n(\"esri.views.3d.layers.i3s.LayerElevationProvider\")],x);const _=a(),j=d(0,0,0,0),R=p(),y=p(),b=p();export{x as LayerElevationProvider};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass i{constructor(i,o){this.position=i,this.rotationScale=o,this.origin=void 0}}export{i as Transform};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../core/mathUtils.js\";import{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{getProjectorClassification as t,copy3 as n,ProjectionID as o,projectionTable as s,wgs84ToWebMercator as i}from\"./projectors.js\";import{earth as c}from\"../support/Ellipsoid.js\";function l(e,r,l,f){if(null==r||null==f)return!1;const p=t(r,f);if(null==p?.projector)return!1;if(p.projector===n)return l[0]=e[0],l[1]=e[1],l[2]=e[2],l[3]=e[3],!0;const{source:E,dest:m,projector:R}=p;if(m.spatialReferenceId===o.WEB_MERCATOR){const r=s[E.spatialReferenceId][o.WGS84];return null!=r&&(r(e,0,u,0),i(u,0,l,0),l[3]=a(u[1],e[2],e[3],c.radius),!0)}if(E.spatialReferenceId!==o.WGS84&&E.spatialReferenceId!==o.CGCS2000||m.spatialReferenceId!==o.PLATE_CARREE){R(e,0,l,0);const r=E.metersPerUnit??1,t=m.metersPerUnit??1;l[3]=e[3]*r/t}else{const r=s[E.spatialReferenceId][o.SPHERICAL_ECEF],t=s[o.SPHERICAL_ECEF][o.PLATE_CARREE];let n=e[3];null!=r&&null!=t&&(n=a(e[1],e[2],e[3],c.radius)),R(e,0,l,0),l[3]=n}return!0}function a(e,r,t,n){const o=n+r;if(o<n/2||t>o)return Number.MAX_VALUE;const s=Math.abs(f*e)+Math.asin(t/o);return s>=Math.PI/2?Number.MAX_VALUE:t/Math.cos(s)}const u=r(),f=e(1);export{l as projectBoundingSphere};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport s from\"../../../core/Logger.js\";import e from\"../../../core/PooledArray.js\";import{create as t}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{WorkerHandle as o}from\"../../../core/workers/WorkerHandle.js\";import{canProjectWithoutEngine as r}from\"../../../geometry/projectionUtils.js\";import{projectVectorToVector as i}from\"../../../geometry/projection/projectVectorToVector.js\";import{ModificationType as h}from\"../../../libs/i3s/enums.js\";class n{constructor(s,e,t,o,r,i){this.layout=s,this.interleavedVertexData=e,this.indices=t,this.hasColors=o,this.hasModifications=r,this.positionData=i}}class p{constructor(s,e,t,o,r,i,h){this.componentOffsets=s,this.featureIds=e,this.anchorIds=t,this.anchors=o,this.transformedGeometry=r,this.globalTrafo=i,this.obb=h}}class a extends o{constructor(s){super(\"SceneLayerWorker\",\"process\",{process:s=>[s.geometryBuffer],project:s=>[s.positions.buffer],transformNormals:s=>[s.normals.buffer]},s,{hasInitialize:!0})}setModifications(s,e,t,o){const r={context:s,modifications:f(e,t,o),isGeodetic:o.isGeographic};this.broadcast(r,\"setModifications\")}setLegacySchema(s,e){const t=JSON.stringify(e);return this.broadcast({context:s,jsonSchema:t},\"setLegacySchema\")}destroyContext(s){return this.broadcast(s,\"destroyContext\")}project(s,e){return this.invokeMethod(\"project\",s,e)}transformNormals(s,e){return this.invokeMethod(\"transformNormals\",s,e)}}const u=new e({deallocator:null}),c=t();function f(e,t,o){u.clear();let n=1/0,p=1/0,a=-1/0,f=-1/0,l=!1;for(const d of t){const e=\"clip\"===d.type?h.Inside:\"mask\"===d.type?h.Outside:h.Replace,t=d.geometry;let m=s=>s;if(t.spatialReference){if(!r(t.spatialReference,o)){s.getLogger(\"esri.views.3d.layers.I3SMeshWorkerHandle\").warn(\"Can't project modification polygon into layer spatial reference, ignoring modification\");continue}m=s=>(i(s,t.spatialReference,c,o),c)}else t.hasZ||(c[2]=0,m=s=>(c[0]=s[0],c[1]=s[1],c));l=l||e===h.Outside,u.push(e),u.push(t.rings.length);for(const s of t.rings){u.push(s.length);for(const e of s){const s=m(e);u.push(s[0]),u.push(s[1]),u.push(s[2]),n=Math.min(n,s[0]),p=Math.min(p,s[1]),a=Math.max(a,s[0]),f=Math.max(f,s[1])}}}if(null!=e)if(l){const s=1e-4;u.push(h.Inside),u.push(2),u.push(4),u.push(n-s),u.push(p-s),u.push(0),u.push(a+s),u.push(p-s),u.push(0),u.push(a+s),u.push(f+s),u.push(0),u.push(n-s),u.push(f+s),u.push(0),u.push(4),u.push(e[0]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[3]),u.push(0),u.push(e[0]),u.push(e[3]),u.push(0)}else u.push(h.Outside),u.push(1),u.push(4),u.push(e[0]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[1]),u.push(0),u.push(e[2]),u.push(e[3]),u.push(0),u.push(e[0]),u.push(e[3]),u.push(0);u.push(h.Finished);const m=new Float64Array(u.length);for(let s=0;s<u.length;++s)m[s]=u.at(s);return m}export{a as I3SMeshWorkerHandle,p as TransformedData,n as TransformedGeometry,f as toWasmModification};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,h,c){super(e,0,0,0,t),this.nodesCached=s,this.vboMB=r,this.textureMB=o,this.vboMBCached=h,this.textureMBCached=c}}export{t as IntegratedMesh3DTilesViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{Lyr3DPrimitiveType as e,Lyr3DAlphaMode as t,Lyr3DFaceCullingMode as n,Lyr3DUvWrapMode as E,Lyr3DType as r}from\"../../../../layers/ILyr3DWasmPerSceneView.js\";import{AlphaDiscardMode as s,CullFaceOptions as o}from\"../../webgl-engine/lib/basicInterfaces.js\";import{PrimitiveType as i,TextureWrapMode as a}from\"../../../webgl/enums.js\";const l={[e.Points]:null,[e.Lines]:null,[e.LineStrip]:null,[e.Triangles]:i.TRIANGLES,[e.TriangleStrip]:i.TRIANGLE_STRIP,[e.NotSet]:null},T={[t.Opaque]:s.Opaque,[t.Mask]:s.Mask,[t.Blend]:s.Blend},P={[n.Back]:o.Back,[n.Front]:o.Front,[n.None]:o.None,[n.NotSet]:o.Back},_={[E.WrapYBit]:{s:a.CLAMP_TO_EDGE,t:a.REPEAT},[E.WrapXBit]:{s:a.REPEAT,t:a.CLAMP_TO_EDGE},[E.WrapXy]:{s:a.REPEAT,t:a.REPEAT},[E.None]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE},[E.NotSet]:{s:a.CLAMP_TO_EDGE,t:a.CLAMP_TO_EDGE}},A={[r.U8]:1,[r.I8]:1,[r.U16]:2,[r.I16]:2,[r.U32]:4,[r.I32]:4,[r.F32]:4,[r.F64]:8,[r.Utf8String]:1,[r.NotSet]:1};export{T as alphaModeConversion,P as faceCullingConversion,A as lyr3DTypeToByteSize,l as primTypeConversion,_ as wrapModeConversion};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Graphic.js\";import{Tiles3DTarget as i}from\"../i3s/Intersector.js\";import{StoreResults as t}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{IntersectorResult as r}from\"../../webgl-engine/lib/IntersectorResult.js\";import{IntersectorType as s}from\"../../webgl-engine/lib/IntersectorType.js\";import{MeshIntersectionOptions as n}from\"../../webgl-engine/lib/RayIntersections.js\";class o{constructor(e){this.type=s.TILES3D,this.slicePlaneEnabled=!1,this.isGround=!0,this.layerView=e,this.layerViewUid=e.uid}intersect(e,s,o,l,a,c){if(e.options.filteredLayerViewUids.includes(this.layerView.uid))return;const u=e.results,d=e.options.store===t.ALL,m=this.layerView.view.stage.renderView.componentObjectCollection,p=new n(c,e.options.normalRequired);this.layerView.objects.forEach((t=>{t.visible&&t.intersectionGeometry&&m.intersect(t,o,l,e.tolerance,null,p,((t,n,a,c)=>{if(n>=0){if(null!=s&&!s(o,l,n))return;const t=e=>{const t=new i(this.layerView.layer.uid,(()=>this._createTiles3DGraphic(this.layerView.layer,{})));e.set(this.type,t,n,a)};if(this.isGround&&(null==u.ground.distance||n<u.ground.distance)&&t(u.ground),e.options.isFiltered)return;if((null==u.min.distance||n<u.min.distance)&&t(u.min),(null==u.max.distance||n>u.max.distance)&&t(u.max),d){const i=new r(e.ray);t(i),e.results.all.push(i)}}}))}))}_createTiles3DGraphic(i,t){return new e({layer:i,sourceLayer:i,attributes:t})}}export{o as Tiles3DIntersectionHandler};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{initial as s,watch as o}from\"../../../core/reactiveUtils.js\";import{schedule as n}from\"../../../core/scheduling.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{fromMat4 as c,invert as m}from\"../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as d,IDENTITY as h}from\"../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{translate as u,getTranslation as p}from\"../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as f}from\"../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{fromValues as g}from\"../../../core/libs/gl-matrix-2/factories/quatf64.js\";import{f as b,o as y}from\"../../../chunks/vec32.js\";import{fromArray as _,create as w}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as v}from\"../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{SphericalECEFSpatialReferenceLike as x}from\"../../../geometry/ellipsoidUtils.js\";import{computeTranslationToOriginAndRotation as C}from\"../../../geometry/projection/computeTranslationToOriginAndRotation.js\";import{localLinearScaleFactors as j}from\"../../../geometry/projection/localLinearScaleFactors.js\";import{projectVectorToVector as M}from\"../../../geometry/projection/projectVectorToVector.js\";import{create as T}from\"../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec2f as P,BufferViewVec4f as O,BufferViewVec4u8 as U,BufferViewVec4u16 as E,BufferViewVec3f as A,BufferViewVec3u8 as H,BufferViewVec3u16 as I,BufferViewInt16 as V,BufferViewUint32 as R,BufferViewUint16 as S}from\"../../../geometry/support/buffer/BufferView.js\";import{Lyr3DLightingModel as F,Lyr3DUvWrapMode as k,Lyr3DImageFormat as D,Lyr3DPixelFormat as B,Lyr3DVtxAtrbSemantic as L,Lyr3DType as N}from\"../../../layers/ILyr3DWasmPerSceneView.js\";import G from\"../../../layers/support/SceneModification.js\";import{getElevationOffsetInMeters as z}from\"../../../support/elevationInfoUtils.js\";import{ViewingMode as W}from\"../../ViewingMode.js\";import{toWasmModification as $}from\"./I3SMeshWorkerHandle.js\";import{IntegratedMesh3DTilesViewPerformanceInfo as J}from\"./IntegratedMesh3DTilesViewPerformanceInfo.js\";import{DrapeTargetType as q}from\"./interfaces.js\";import{LayerView3D as K}from\"./LayerView3D.js\";import{addLayerViewToWasm as X,removeLayerViewFromWasm as Q,getLyr3DWasm as Y}from\"./Lyr3DWasm.js\";import{LayerElevationProvider as Z}from\"./i3s/LayerElevationProvider.js\";import{primTypeConversion as ee,alphaModeConversion as te,faceCullingConversion as re,wrapModeConversion as ie,lyr3DTypeToByteSize as se}from\"./support/lyr3dTypeConversions.js\";import{Tiles3DIntersectionHandler as oe}from\"./support/Tiles3DIntersectionHandler.js\";import{ElevationRange as ne}from\"../support/ElevationRange.js\";import{toBoundingRect as ae}from\"../support/extentUtils.js\";import{Obb as le,compute as ce}from\"../support/orientedBoundingBox.js\";import{ObjectParameters as me}from\"../webgl-engine/collections/Component/ObjectParameters.js\";import{GeometryParameters as de,createVertexBufferLayout as he}from\"../webgl-engine/collections/Component/SourceGeometry.js\";import{Transform as ue}from\"../webgl-engine/collections/Component/Transform.js\";import{ComponentParameterSummary as pe}from\"../webgl-engine/collections/Component/Material/ComponentMaterial.js\";import{RenderTexture as fe}from\"../webgl-engine/core/material/RenderTexture.js\";import{TextureCoordinateType as ge}from\"../webgl-engine/core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{getEllipsoidMode as be}from\"../webgl-engine/core/shaderLibrary/util/EllipsoidMode.js\";import{Attribute as ye}from\"../webgl-engine/lib/Attribute.js\";import{CullFaceOptions as _e,AlphaDiscardMode as we,TextureEncodingMimeType as ve}from\"../webgl-engine/lib/basicInterfaces.js\";import{compressAndTransformNormals as xe}from\"../webgl-engine/lib/Normals.js\";import{Texture as Ce}from\"../webgl-engine/lib/Texture.js\";import{VertexAttribute as je}from\"../webgl-engine/lib/VertexAttribute.js\";import{writeDefaultAttribute as Me,writeBufferVec2 as Te}from\"../webgl-engine/materials/internal/bufferWriterUtils.js\";import Pe from\"../../layers/LayerView.js\";import{isInEffectiveScaleRange as Oe}from\"../../support/layerViewUtils.js\";import{TextureCompressionTracker as Ue}from\"../../support/TextureCompressionTracker.js\";import{alphaCutoff as Ee}from\"../../../webscene/support/AlphaCutoff.js\";var Ae;!function(e){e[e.API=1]=\"API\",e[e.VerboseAPI=2]=\"VerboseAPI\",e[e.Error=3]=\"Error\"}(Ae||(Ae={}));class He{constructor(){this.handle=0,this.isVisible=!1,this.components=[],this.textureMemoryUsage=0,this.vboMemoryUsage=0,this.cpuMemoryUsage=0,this.textures=[]}get usedMemory(){return this.textureMemoryUsage+this.vboMemoryUsage+this.cpuMemoryUsage}get cachedMemory(){return this.usedMemory}}function Ie(e){return Math.round(e/1048.576)/1e3}let Ve=class extends(K(Pe)){constructor(){super(...arguments),this.type=\"integrated-mesh-3dtiles\",this._compressionTracker=new Ue,this._modifications=new Array,this._visibleGeometryChangedSchedulerHandle=null,this._wasmLayerId=-1,this.ignoresMemoryFactor=!1,this.drapeTargetType=q.WithoutRasterImage,this._applySSAO=!has(\"disable-feature:im-ssao\"),this._shadeNormals=!!has(\"enable-feature:im-shading\"),this._lyrHandleToObjects=new Map,this._initialCullFace=new Map,this._suspendedHandle=null,this._dbgFlags=new Set}get hasModifications(){return this._modifications&&this._modifications.length>0}initialize(){if(this._dbgFlags.add(Ae.Error),this._dbg(Ae.VerboseAPI,\"Tiles3DLayerView3D initialize() called\"),this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),s),!this._canProjectWithoutEngine())throw new t(\"layerview:spatial-reference-incompatible\",\"The spatial reference of this scene layer is incompatible with the spatial reference of the view\",{});const e=X(this).then((e=>{this._wasmLayerId=e,this._intersectionHandler=new oe(this),this.view.sceneIntersectionHelper.addIntersectionHandler(this._intersectionHandler),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(e))),this._updatingHandles.add((()=>this._modifications),(()=>this._modificationsChanged()),s),this._updatingHandles.add((()=>this.view.clippingArea),(()=>this._clippingAreaChanged()),s),this._elevationProvider=new Z({view:this.view,layerElevationSource:this,intersectionHandler:this._intersectionHandler}),this.view.elevationProvider.register(\"im\",this._elevationProvider),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this);const t=this.view.resourceController.memoryController.newCache(`t3d-${this.uid}`,(e=>this._onRemoveFromCache(e)));this._memCache=t,this.addHandles([o((()=>this.layer.elevationInfo),(e=>this._elevationInfoChanged(e)))]),this._suspendedHandle=o((()=>this.suspended),(e=>this._wasm?.setEnabled(this,!e)),s)}));this.addResolvingPromise(e)}destroy(){this._dbg(Ae.VerboseAPI,\"Tiles3DLayerView3D destroy() called\"),Q(this),this._suspendedHandle&&(this._suspendedHandle.remove(),this._suspendedHandle=null),this._intersectionHandler&&(this.view.sceneIntersectionHelper.removeIntersectionHandler(this._intersectionHandler),this._intersectionHandler=null),this._elevationProvider&&(this._elevationProvider.objectsChanged(this._obbs),this.view.elevationProvider.unregister(this._elevationProvider),this._elevationProvider=null),this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this),this._lyrHandleToObjects.forEach((e=>this.freeObject(e))),this._lyrHandleToObjects.clear(),this._initialCullFace.clear(),this._memCache=i(this._memCache),this._updatingHandles=i(this._updatingHandles),this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle&&(this._visibleGeometryChangedSchedulerHandle.remove(),this._visibleGeometryChangedSchedulerHandle=null)}_modificationsChanged(){const e=this.layer.spatialReference,t=$(this._layerClippingArea,this._modifications,e);this._wasm?.setMeshModifications(this,t,e.wkid)}_clippingAreaChanged(){const e=this.layer.spatialReference,t=T();this._layerClippingArea=ae(this.view.clippingArea,t,e)?t:null,this._modificationsChanged()}_visibleGeometryChanged(){this._visibleGeometryChangedSchedulerHandle??=n((()=>{this.emit(\"visible-geometry-changed\"),this._visibleGeometryChangedSchedulerHandle=null}))}_slicePlaneEnabledChange(e){this._intersectionHandler&&(this._intersectionHandler.slicePlaneEnabled=e),this.objects.forEach((t=>{const r=this._collection.getMaterial(t);r.commonMaterialParameters.hasSlicePlane=e,r.commonMaterialParameters.cullFace=e?_e.None:this._initialCullFace.get(t)}))}_elevationInfoChanged(e){this._wasm?.setLayerOffset(this,z(e))}get _obbs(){return this.objects.map((e=>this._collection.getComponentObb(e)))}get _wasm(){return Y(this.view)}get wasmLayerId(){return this._wasmLayerId}get usedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible&&(e+=t.usedMemory)})),e}get unloadedMemory(){return 0}get cachedMemory(){let e=0;return this._lyrHandleToObjects.forEach((t=>{t.isVisible||(e+=t.usedMemory)})),e}get visibleAtCurrentScale(){return Oe(this.layer.effectiveScaleRange,this.view.scale)}get performanceInfo(){let e=0,t=0,r=0,i=0,s=0,o=0;return this._lyrHandleToObjects.forEach((n=>{n.isVisible?(e+=n.textureMemoryUsage,t+=n.vboMemoryUsage,s++):(r+=n.textureMemoryUsage,i+=n.vboMemoryUsage,o++)})),new J(this.usedMemory,s,o,Ie(t),Ie(e),Ie(i),Ie(r))}_canProjectWithoutEngine(){if(this.view.state.viewingMode===W.Local){const e=this.view.renderSpatialReference?.isWebMercator?3857:this.view.renderSpatialReference?.wkid??-1;if(3857!==e&&32662!==e)return!1}return!0}get _stage(){return this.view.stage}get _collection(){return this._stage.renderView.componentObjectCollection}get elevationOffset(){return z(this.layer.elevationInfo)}get elevationRange(){const e=this.fullExtent;return e?.zmin&&e?.zmax?new ne(e.zmin,e.zmax):null}getElevationRange(e){return null}get fullExtent(){return this.layer.fullExtent}get objects(){return Array.from(this._lyrHandleToObjects.values()).reduce(((e,t)=>e.concat(t.components)),new Array)}isUpdating(){const e=this._wasm;return!(this._wasmLayerId<0||null==e)&&(e.isUpdating(this._wasmLayerId)||this._compressionTracker.compressing)}updatingFlagChanged(){this.notifyChange(\"updating\")}async createRenderable(e){const t=e.meshData;if(null==t.data)throw new Error(\"meshData.data undefined\");if(t.desc=JSON.parse(t.desc),null==t.desc)throw new Error(\"meshData.desc undefined\");const r=_(t.desc.origin),i=new Array,s=new Map,o=new He;o.handle=e.handle,this._lyrHandleToObjects.set(e.handle,o);const n=this.view.basemapTerrain.spatialReference;let a,l;if(\"global\"===this.view.viewingMode){const e=f();C(x,r,e,n),a=c(d(),e),l=m(d(),a)}else a=h,l=h;const T=f();u(T,T,r);const O=p(w(),T);let U=null;const E=w();if(t.desc.obb){const e=t.desc.obb.quaternion;U=new le(t.desc.obb.center,t.desc.obb.halfSize,g(e[0],e[1],e[2],e[3]))}for(let c=0;c<t.desc.prims.length;c++){const e=t.desc.prims[c];this._dbg(Ae.VerboseAPI,JSON.stringify(e));if(null==ee[e.ptype]||null==t.data){this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported primitive mode (\"+e.ptype+\"). Skipping primitive.\");continue}const m=t.desc?.materials&&null!=e.materialId?t.desc.materials[e.materialId]:null,d=null!=m?m.lightingModel:F.Unlit,{positionView:u,positionAttr:p,normalsView:f,normalsAttr:g,colorAttr:_,texCoord0Attr:x,indicesView:C}=this.getBufferViews(e,t.data.buffer,a);if(null==p||null==u||null==C)continue;const T=new de(null!=_,x?ge.Default:ge.None,null!=f,this._shadeNormals,this._applySSAO),A=p.data.length/p.size,H=(e,t)=>!e||e.data.length/e.size===A||(this._dbg(Ae.Error,`${t} !== numPos. Skipping primitive.`),!1);if(!H(x,\"numTexcoord\")||!H(_,\"numColors\")||!H(g,\"normals\"))continue;const I=he(T);if(null!=U?U=U.clone():(U=ce(p),b(E,U.center,r),U.center=E),a!==h)for(let t=0;t<u.count;t++)u.getVec(t,E),y(E,E,a),u.setVec(t,E);const V=I.createBuffer(p.data.length);if(Me(je.POSITION,p,null,null,V,0),null!=x){const e=V.getField(je.UV0,P);Te(x,e,0)}null!=_&&Me(je.COLOR,p,null,null,V,0),null!=g&&Me(je.NORMALCOMPRESSED,g,null,null,V,0);const R=new Uint32Array([0,C.typedBuffer.length]),S={vertices:{data:V.buffer,count:V.byteLength/I.stride,layoutParameters:T},positionData:{positions:u.typedBuffer,indices:C.typedBuffer},indices:C.typedBuffer,componentOffsets:R};o.cpuMemoryUsage+=u.count,o.cpuMemoryUsage+=C.count;const k=this.view.renderSpatialReference,D=w(),B=[1,1,1];j(O,k,B,n)||this._dbg(Ae.Error,\"Unsupported coordinate system for IM overlay\"),M(O,k,D,n);const L=this._collection.createObject(new me(v(D[0],D[1],B[0],B[1]),new ue(O,l),U,S));m&&this._collection.updateMaterial(L,(e=>{e.baseColor=m.baseColorFactor,e.usePBR=d===F.Pbr,e.hasParametersFromSource=!1,e.baseColorTexture=this._getTexture(m.baseColorTex,t,s,o),e.usePBR&&(e.mrrFactors=[m.metallicFactor,m.roughnessFactor,0],e.emissiveBaseColor=m.emissiveFactor??[0,0,0],e.metallicRoughnessTexture=this._getTexture(m.metalTex,t,s,o),e.emissionTexture=this._getTexture(m.emissiveTex,t,s,o),e.occlusionTexture=this._getTexture(m.occlusionTex,t,s,o),e.normalTexture=this._getTexture(m.normalTex,t,s,o)),e.objectOpacity=0,e.alphaDiscardMode=we.Mask;const r=[];e.baseColorTexture&&r.push(e.baseColorTexture.loadPromise),e.usePBR&&e.metallicRoughnessTexture&&r.push(e.metallicRoughnessTexture.loadPromise),e.usePBR&&e.emissionTexture&&r.push(e.emissionTexture.loadPromise),e.usePBR&&e.occlusionTexture&&r.push(e.occlusionTexture.loadPromise),e.usePBR&&e.normalTexture&&r.push(e.normalTexture.loadPromise);const n=Promise.all(r);i.push(n),n.then((()=>{e.alphaDiscardMode=te[m.alphaMode],e.objectOpacity=1,o.textureMemoryUsage+=e.baseColorTexture?.glTexture?.usedMemory||0,e.usePBR&&(o.textureMemoryUsage+=e.metallicRoughnessTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.emissionTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.occlusionTexture?.glTexture?.usedMemory||0,o.textureMemoryUsage+=e.normalTexture?.glTexture?.usedMemory||0)})),e.commonMaterialParameters.doubleSided=m.isDoubleSided,e.commonMaterialParameters.cullFace=m.faceCulling?re[m.faceCulling]:_e.Back,this._initialCullFace.set(L,e.commonMaterialParameters.cullFace),e.commonMaterialParameters.hasSlicePlane=this.slicePlaneEnabled,e.componentParameters.castShadows=pe.All,e.textureAlphaCutoff=m.alphaCutoff??Ee,e.alphaDiscardMode=te[m.alphaMode],e.isIntegratedMesh=!0,e.polygonOffsetEnabled=!1,e.hasOccludees=!1,e.ellipsoidMode=be(this.view.spatialReference)})),o.components.push(L),o.vboMemoryUsage+=this._collection.getObjectGPUMemoryUsage(L)}if(await Promise.all(i),s.forEach((e=>{o.textures.push(e)})),!this._memCache)throw new Error(\"no memCache\");return this._memCache.put(`${o.handle}`,o),{memUsageBytes:o.usedMemory}}freeRenderable(e){const t=this._lyrHandleToObjects.get(e);t&&(this.freeObject(t),this._lyrHandleToObjects.delete(e))}freeObject(e){this._memCache&&this._memCache.pop(`${e.handle}`),e.components.forEach((t=>{e.textures.forEach((e=>{this._stage.removeTexture(e)})),this._collection.destroyObject(t),this._initialCullFace.delete(t)}))}setRenderableVisibility(e,t,r){if(this._memCache){for(let i=0;i<r;++i){const r=e[i],s=t[i];if(!s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.pop(`${r}`))}for(let i=0;i<r;++i){const r=e[i],s=t[i];if(s)continue;const o=this._lyrHandleToObjects.get(r);o&&(this._visibleGeometryChanged(),o.isVisible=s,o.components.forEach((e=>{this._collection.setObjectVisibility(e,s),this._elevationProvider.objectChanged(this._collection.getComponentObb(e))})),this._memCache.put(`${r}`,o))}}}_getTexture(e,t,r,i){let s=null;if(e&&t.desc?.images&&t.data?.buffer){const o=t.desc.images[e?.imageId];if(s=r.get(o),!s&&o){const n=this._stage.renderView.renderingContext.parameters.maxMaxAnisotropy,a=!!o.mipCount||n>1,l=ie[e.wrapMode??k.None];let c=o.alpha?4:3;const m=new Uint8Array(t.data.buffer,o.data.byteOffset,o.data.byteCount);let d=null,h=null,u=null;switch(o.format){case D.Raw:o.pixelFormat===B.R8?(d=m,c=1,h=\"\"):o.pixelFormat===B.Rgb8?(d=m,c=3,h=\"\"):o.pixelFormat===B.Rgba8&&(d=m,c=4,h=\"\");break;case D.Dxt1:d=m,c=3,h=ve.DDS_ENCODING;break;case D.Dxt5:d=m,c=4,h=ve.DDS_ENCODING;break;case D.Basis:d=m,c=3,h=ve.KTX2_ENCODING;break;case D.Png:h=\"image/png\",u=document.createElement(\"img\");break;case D.Jpeg:h=\"image/jpeg\",u=document.createElement(\"img\");break;case D.Etc2:h=\"image/ktx\",u=document.createElement(\"img\");break;case D.Astc:this._dbg(Ae.Error,\"Astc texture not supported\");break;case D.Pvrtc:this._dbg(Ae.Error,\"Pvrtc texture not supported\")}if(u&&h){const e=new Blob([m],{type:h});u.src=URL.createObjectURL(e),d=u}if(d&&null!=h){const e=has(\"enable-feature:esri-compress-IM-textures\")?{compressionTracker:this._compressionTracker,compressionCallback:e=>{e&&e>0&&(i.textureMemoryUsage-=e)}}:void 0;s=new Ce(d,{mipmap:a,maxAnisotropy:n,encoding:h,wrap:l,components:c,compressionOptions:e,noUnpackFlip:!0,width:o.mip0Width,height:o.mip0Height}),this._stage.addTexture(s),r.set(o,s)}}}return s?new fe(this.view.stage.renderView.textures,s.id):null}getBufferViews(e,t,r){let i,s,o,n,a,l,c,m=null;for(let h=0;h<e.atrbs.length;h++){const c=e.atrbs[h],u=c.view,p=void 0,f=u.byteOffset+u.byteCount,g=u.byteCount/se[u.type],b=[...Array(g).keys()].map((e=>e));try{switch(c.sem){case L.Position:3!==u.ncomp||u.type!==N.F32?this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Position (\"+u+\")\"):(i=new A(t,u.byteOffset,p,f),s=new ye(i.typedBuffer,b,3));break;case L.Normal:if(3!==u.ncomp||u.type!==N.F32)this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Normal (\"+u+\")\");else{const e=new A(t,u.byteOffset,p,f),i=xe(e.typedBuffer,r);a=new V(i),l=new ye(a.typedBuffer,b,2)}break;case L.TexCoord:2!==u.ncomp||u.type!==N.F32?this._dbg(Ae.Error,\"[Unsupported Feature] Unsupported view for Texcoord (\"+u+\")\"):void 0===n&&(n=new ye(new P(t,u.byteOffset,p,f).typedBuffer,b,2));break;case L.Color:4===u.ncomp?(u.type===N.F32&&(m=new O(t,u.byteOffset,p,f)),u.type===N.U8&&(m=new U(t,u.byteOffset,p,f)),u.type===N.U16&&(m=new E(t,u.byteOffset,p,f))):3===u.ncomp&&(u.type===N.F32&&(m=new A(t,u.byteOffset,p,f)),u.type===N.U8&&(m=new H(t,u.byteOffset,p,f)),u.type===N.U16&&(m=new I(t,u.byteOffset,p,f))),null==m?this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported view for Color (\"+u+\")\"):o=new ye(m.typedBuffer,b,u.ncomp);break;case L.FeatureIndex:break;default:this._dbg(Ae.VerboseAPI,\"[Unsupported Feature] Unsupported semantic (\"+c.sem+\"). Skipping vertex attribute.\")}}catch(d){this._dbg(Ae.VerboseAPI,\"Error Creating buffer (\"+d+\"). Skipping vertex attribute.\")}}if(e.index){const r=e.index.view,i=void 0,s=r.byteOffset+r.byteCount;switch(e.index.view.type){case N.U16:c=new S(t,r.byteOffset,i,s);break;case N.U32:c=new R(t,r.byteOffset,i,s);break;case N.U8:default:this._dbg(Ae.Error,\"[Unsupported Feature] index type not supported (\"+r.type+\").\")}}if(null==c&&null!=i){const e=i.count;if(e<65535){const t=new Uint16Array(e);c=new S(t)}else{const t=new Uint32Array(e);c=new R(t)}for(let t=0;t<e;t++)c.set(t,t)}return{positionView:i,positionAttr:s,colorAttr:o,texCoord0Attr:n,indicesView:c,normalsView:a,normalsAttr:l}}_loadModifications(){if(this.removeHandles(\"modifications\"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),s),\"modifications\")}_onRemoveFromCache(e){this._wasm?.onRenderableEvicted(this,e.handle,e.usedMemory),this.freeRenderable(e.handle)}_dbg(e,t){this._dbgFlags.has(e)&&(e===Ae.Error?r.getLogger(this).error(t):r.getLogger(this).warn(t))}};e([a({type:[G]})],Ve.prototype,\"_modifications\",void 0),e([a()],Ve.prototype,\"_visibleGeometryChangedSchedulerHandle\",void 0),e([a()],Ve.prototype,\"layer\",void 0),e([a({readOnly:!0})],Ve.prototype,\"visibleAtCurrentScale\",null),e([a()],Ve.prototype,\"elevationOffset\",null),Ve=e([l(\"esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D\")],Ve);const Re=Ve;export{Re as default};\n"],"names":["s","constructor","r","this","_textures","loadPromise","_disposed","i","acquire","t","then","e","_textureRef","dispose","glTexture","o","toMapSpace","transform","obb","geometry","n","None","Int16","Int32","Replace","Outside","Inside","Finished","m","f","super","type","writeGeometry","layer","spatialReference","equals","l","messages","push","modification","context","p","c","toJSON","clone","a","prototype","nonNullable","u","source","spatialReferenceId","E","dest","UNKNOWN","SPHERICAL_ECEF","Math","sqrt","radius","WEB_MERCATOR","WGS84","CGCS2000","PLATE_CARREE","cos","x","EventedMixin","_tmpEvent","v","_renderCoordsHelper","view","renderCoordsHelper","_renderSR","_layerElevationSource","layerElevationSource","initialize","_intersector","g","state","viewingMode","options","store","MIN","normalRequired","intersectionHandler","isGround","elevationProvider","getElevation","R","toRenderCoords","getLogger","error","fullExtent","Number","isFinite","xmin","xmax","ymin","ymax","zmin","zmax","elevationRange","h","elevationOffset","d","elevationRangeMin","elevationRangeMax","setAltitude","y","b","reset","camera","intersect","results","min","getIntersectionPoint","getAltitude","getSphereElevationBounds","j","getElevationRange","getRootElevationBounds","hasZ","objectsChanged","_computeLayerExtent","extent","emit","objectChanged","_computeObjectExtent","_expandExtent","_","quaternion","center","halfSize","fromRenderCoords","constructOnly","position","rotationScale","origin","projector","metersPerUnit","MAX_VALUE","abs","asin","PI","arguments","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","IdentifiableMixin","EsriPromiseMixin","spatialReferenceSupported","_updatingHandles","parent","when","catch","name","id","title","destroy","fullOpacity","opacity","suspended","destroyed","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","effectiveScaleRange","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","readOnly","Boolean","layout","interleavedVertexData","indices","hasColors","hasModifications","positionData","componentOffsets","featureIds","anchorIds","anchors","transformedGeometry","globalTrafo","process","geometryBuffer","project","positions","buffer","transformNormals","normals","hasInitialize","setModifications","modifications","isGeodetic","isGeographic","broadcast","setLegacySchema","JSON","stringify","jsonSchema","destroyContext","invokeMethod","deallocator","clear","warn","rings","length","max","Float64Array","at","nodesCached","vboMB","textureMB","vboMBCached","textureMBCached","Points","Lines","LineStrip","Triangles","TRIANGLES","TriangleStrip","TRIANGLE_STRIP","NotSet","T","Opaque","Mask","Blend","P","Back","Front","WrapYBit","CLAMP_TO_EDGE","REPEAT","WrapXBit","WrapXy","A","U8","I8","U16","I16","U32","I32","F32","F64","Utf8String","TILES3D","layerView","layerViewUid","uid","filteredLayerViewUids","includes","ALL","stage","renderView","componentObjectCollection","objects","forEach","intersectionGeometry","tolerance","_createTiles3DGraphic","set","ground","distance","isFiltered","ray","all","sourceLayer","attributes","Ae","API","VerboseAPI","Error","He","handle","isVisible","components","textureMemoryUsage","vboMemoryUsage","cpuMemoryUsage","textures","usedMemory","cachedMemory","Ie","round","Ve","K","Pe","_compressionTracker","Ue","_modifications","Array","_visibleGeometryChangedSchedulerHandle","_wasmLayerId","ignoresMemoryFactor","drapeTargetType","q","WithoutRasterImage","_applySSAO","has","_shadeNormals","_lyrHandleToObjects","Map","_initialCullFace","_suspendedHandle","_dbgFlags","Set","add","_dbg","_loadModifications","_canProjectWithoutEngine","X","_intersectionHandler","oe","sceneIntersectionHelper","addIntersectionHandler","_slicePlaneEnabledChange","_modificationsChanged","clippingArea","_clippingAreaChanged","_elevationProvider","Z","register","basemapTerrain","overlayManager","registerDrapeTarget","resourceController","memoryController","newCache","_onRemoveFromCache","_memCache","elevationInfo","_elevationInfoChanged","_wasm","setEnabled","Q","remove","removeIntersectionHandler","_obbs","unregister","unregisterDrapeTarget","freeObject","$","_layerClippingArea","setMeshModifications","wkid","ae","_visibleGeometryChanged","_collection","getMaterial","commonMaterialParameters","hasSlicePlane","cullFace","_e","get","setLayerOffset","z","map","getComponentObb","Y","wasmLayerId","unloadedMemory","Oe","scale","performanceInfo","J","W","Local","renderSpatialReference","isWebMercator","_stage","ne","from","values","reduce","concat","compressing","updatingFlagChanged","notifyChange","createRenderable","meshData","data","desc","parse","C","O","w","U","le","prims","ee","ptype","materials","materialId","lightingModel","F","Unlit","positionView","positionAttr","normalsView","normalsAttr","colorAttr","texCoord0Attr","indicesView","getBufferViews","de","ge","Default","size","H","I","he","ce","count","getVec","setVec","V","createBuffer","Me","je","POSITION","getField","UV0","Te","COLOR","NORMALCOMPRESSED","Uint32Array","typedBuffer","S","vertices","byteLength","stride","layoutParameters","k","D","B","M","L","createObject","me","ue","updateMaterial","baseColor","baseColorFactor","usePBR","Pbr","hasParametersFromSource","baseColorTexture","_getTexture","baseColorTex","mrrFactors","metallicFactor","roughnessFactor","emissiveBaseColor","emissiveFactor","metallicRoughnessTexture","metalTex","emissionTexture","emissiveTex","occlusionTexture","occlusionTex","normalTexture","normalTex","objectOpacity","alphaDiscardMode","we","Promise","te","alphaMode","doubleSided","isDoubleSided","faceCulling","re","componentParameters","castShadows","pe","All","textureAlphaCutoff","alphaCutoff","Ee","isIntegratedMesh","polygonOffsetEnabled","hasOccludees","ellipsoidMode","be","getObjectGPUMemoryUsage","put","memUsageBytes","freeRenderable","delete","pop","removeTexture","destroyObject","setRenderableVisibility","setObjectVisibility","images","imageId","renderingContext","parameters","maxMaxAnisotropy","mipCount","ie","wrapMode","alpha","Uint8Array","byteOffset","byteCount","format","Raw","pixelFormat","R8","Rgb8","Rgba8","Dxt1","ve","DDS_ENCODING","Dxt5","Basis","KTX2_ENCODING","Png","document","createElement","Jpeg","Etc2","Astc","Pvrtc","Blob","src","URL","createObjectURL","compressionTracker","compressionCallback","Ce","mipmap","maxAnisotropy","encoding","wrap","compressionOptions","noUnpackFlip","width","mip0Width","height","mip0Height","addTexture","fe","atrbs","se","keys","sem","Position","ncomp","N","ye","Normal","xe","TexCoord","Color","FeatureIndex","index","Uint16Array","removeHandles","addOnCollectionChange","toArray","onRenderableEvicted","G","Re"],"sourceRoot":""}